var e=Object.defineProperty,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,t=(a,i,o)=>i in a?e(a,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[i]=o;import{a4 as l,ay as s,U as n,a2 as r,bu as d,bx as p,bq as c,r as m,k as u,Q as f,as as b,bB as v,by as g,aw as j,x as h,W as x,b1 as V,V as y,X as w,D as k,I as z,aE as _,bp as D,A as C,bY as H,f as M,a1 as O,bz as $}from"./todo.9d8ad3e1.js";/* empty css             *//* empty css                   *//* empty css                       *//* empty css                  *//* empty css                 *//* empty css                   *//* empty css                   *//* empty css                  *//* empty css                */import E from"./d-contextmenu.48628903.js";import{D as T}from"./d-icon.3707ba6f.js";import I from"./sponsor.1432f7d6.js";import{u as R,i as G,o as S,$ as Y,a as q,b as A,P,S as U,c as B}from"./main.bc43ff04.js";import{c as L}from"./create_login.8330b0f6.js";import{u as W}from"./baseRequest.acdd10d1.js";import{d as N}from"./debounce.86275fe6.js";import{E as Q}from"./index.88f3c51b.js";import{E as X}from"./index.469ed053.js";import{ElButton as F}from"./index.7243f2d8.js";import{E as J}from"./index.bff313d9.js";import{ElMessage as K}from"./index.8c1ac3e2.js";import{E as Z}from"./index.20caaeba.js";import"./Search.ae535b15.js";import"./el-dialog.78f7c2e8.js";import"./index.6fb72867.js";import"./isObject.44842e39.js";import"./style.83568f4e.js";import"./icon.b571cc89.js";import"./index.b2ab0f23.js";import"./focus-trap.50913811.js";import"./aria.66f3f71c.js";import"./index.172974c9.js";import"./index.8ef2203f.js";import"./scroll.d4cf4dfc.js";import"./el-form-item.a30a099f.js";import"./index.90c48122.js";import"./_baseClone.48fb5fa9.js";import"./_baseIsEqual.33a0d23b.js";import"./isEqual.060206f9.js";import"./el-radio.fafbbf94.js";import"./index.f979cd8a.js";import"./index.cf2b56e1.js";import"./index.becf6c0c.js";import"./public-api.2bc03c02.js";import"./website.ab9ea580.js";import"./index.1756df45.js";import"./Loading.a57c2d0d.js";import"./Close.ac61f2f5.js";import"./save_config.acf4dfbd.js";import"./config-provider.31e0a14a.js";import"./typescript.72bf8adc.js";import"./el-image-viewer.373c54a1.js";import"./throttle.8deae385.js";import"./position.c5cd7449.js";import"./Refresh.84dfc6ef.js";import"./index.53173a12.js";import"./event.0bae16b8.js";import"./validator.bcd39c35.js";var ee=l({name:"HotWater"});const ae={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ie=r("path",{fill:"currentColor",d:"M273.067 477.867h477.866V409.6H273.067v68.267zm0 68.266v51.2A187.733 187.733 0 0 0 460.8 785.067h102.4a187.733 187.733 0 0 0 187.733-187.734v-51.2H273.067zm-34.134-204.8h546.134a34.133 34.133 0 0 1 34.133 34.134v221.866a256 256 0 0 1-256 256H460.8a256 256 0 0 1-256-256V375.467a34.133 34.133 0 0 1 34.133-34.134zM512 34.133a34.133 34.133 0 0 1 34.133 34.134v170.666a34.133 34.133 0 0 1-68.266 0V68.267A34.133 34.133 0 0 1 512 34.133zM375.467 102.4a34.133 34.133 0 0 1 34.133 34.133v102.4a34.133 34.133 0 0 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.134-34.133zm273.066 0a34.133 34.133 0 0 1 34.134 34.133v102.4a34.133 34.133 0 1 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.133-34.133zM170.667 921.668h682.666a34.133 34.133 0 1 1 0 68.267H170.667a34.133 34.133 0 1 1 0-68.267z"},null,-1);ee.render=function(e,a,i,o,t,l){return s(),n("svg",ae,[ie])},ee.__file="packages/components/HotWater.vue";var oe=ee,te=l({name:"Menu"});const le={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},se=r("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H608zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H608z"},null,-1);te.render=function(e,a,i,o,t,l){return s(),n("svg",le,[se])},te.__file="packages/components/Menu.vue";var ne=te;const re={key:0,class:"app-buttons"},de={class:"app-sidebar-body"},pe=["src"],ce={key:0,class:"mt5 d-elip"},me={class:"app-sidebar-group d-scrollbar-hide"},ue=["onContextmenu","onDragenter","onDragstart","onDrop","onClick"],fe=["title","id"],be={class:"d-elip app-group-item-title"},ve={class:"app-group-icon"},ge=["title","onClick"],je={class:"mb5 mt5"},he={class:"mt5"},xe={class:"f20 d-icon",title:"支持一下"},Ve={class:"icon-setting f20 d-icon"};var ye=d({__name:"HomeNavGroup",setup(e){const l=W(),{t:n}=R(),d=p(),ee=c(),ae=m({iconList:["home","xin","music","chat","office","entertainment","shop","app","code","learn","read","tool","zan","collect"],juanzhuVisible:!1,addVisible:!1,sideVisible:!1,contextmenuVisible:!1,contextmenuData:[{name:n("edit"),key:"edit",icon:"edit"},{name:n("remove"),key:"del",icon:"remove"}],dragData:null}),ie=m({name:"",icon:"xin",children:[]}),te=u(null),le=u(null),se=f((()=>ee.value.sidebar.placement||"left")),ye=f((()=>G||ee.value.sidebar.autoHide)),we=()=>{l.value.username?(B.visible=!0,B.active=1):L("reg")};let ke=0,ze=0,_e=u("add");function De(){if("add"==_e.value)d.value.push({id:$("nav"),name:ie.name,icon:ie.icon,children:[]});else{let e=((e,l)=>{for(var s in l||(l={}))i.call(l,s)&&t(e,s,l[s]);if(a)for(var s of a(l))o.call(l,s)&&t(e,s,l[s]);return e})({},ie);d.value.splice(ze,1,e)}ae.addVisible=!1,ie.icon="xin",ie.name="",ie.children=[]}function Ce(e){ae.contextmenuVisible=!1;let a=d.value[ze];if("edit"==e.key)_e.value="edit",ae.addVisible=!0,ie.id=a.id,ie.name=a.name,ie.icon=a.icon,ie.children=a.children,setTimeout((()=>{let e=le.value.popperRef.contentRef.style.transform;e=e.substring(e.indexOf("(")+1,e.indexOf(",")),le.value.popperRef.contentRef.style.transform=`translate(${e}, ${ke}px)`}));else if("del"==e.key){if(1==d.value[ze].id)return void K("此分组不能删除");Z.confirm("此操作将会删除分组下的所有内容, 是否继续?","Tips",{center:!0,type:"warning"}).then((()=>{d.value.splice(ze,1),a.id===g.value&&H(1)}))}}function He(){B.visible=!0,B.active=2}function Me(e){if(!1===ee.value.sidebar.mouseGroup)return;let a=d.value.findIndex((e=>e.id==g.value)),i=d.value.length-1;"up"==e?(a--,a<0&&(a=i)):(a++,a>i&&(a=0));let o=d.value[a].id;H(o),setTimeout((()=>{Y(`#app-grid_${g.value}`).scrollTop=0}),100)}function Oe(e){let a=-e.wheelDelta||-e.deltaY||40*e.detail,i=Y(`#app-grid_${g.value}`),o=Y(`#app-grid_${g.value} .app-grid`).clientHeight-i.clientHeight,t=i.scrollTop+a;if(i.scrollTo({top:t,behavior:"smooth"}),(-e.wheelDelta||-e.deltaY||e.detail)<0&&0==i.scrollTop)return void Me("up");let l=~~i.scrollTop;(-e.wheelDelta||-e.deltaY||e.detail)>0&&(l==o||l+1==o||l-1==o||o<0)&&Me("down")}function $e(e){ye&&(ae.sideVisible=!0)}function Ee(e){ye&&(ae.addVisible||ae.contextmenuVisible||(ae.sideVisible=!1))}function Te(){ae.addVisible=!1,Ee()}return b((()=>{v()||(S(Y("#app-main"),"mousewheel",N(Oe,200,{leading:!0,trailing:!1}),!1),S(Y("#app-main"),"DOMMouseScroll",N(Oe,200,{leading:!0,trailing:!1}),!1))})),S(document,"mousedown",(function(e){var a,i;Y(".v-contextmenu").contains(e.target)||(null==(a=Y(".app-group-popover"))?void 0:a.contains(e.target))||(null==(i=Y("#app-sidebar"))?void 0:i.contains(e.target))||(ae.addVisible=!1,Te())})),j((()=>{q(Y("#app-main"),"mousewheel",Oe),q(Y("#app-main"),"DOMMouseScroll",Oe)})),(e,a)=>"widget"==h(ee).layout.view?(s(),x("div",{key:0,onMouseenter:$e,onMouseleave:Ee,class:C(["app-sidebar",[`is-${h(se)}`,{active:ae.sideVisible},{"is-autoHide":h(ye)}]]),id:"app-sidebar"},[h(G)?(s(),x("div",re,[r(h(Q),{onClick:$e,icon:"icon-home",size:18},{default:V((()=>[r(h(ne))])),_:1})])):y("",!0),w("div",de,[w("div",{onClick:we,class:"app-sidebar-avatar"},[w("img",{style:{width:"30px",height:"30px","border-radius":"50%","object-fit":"cover"},src:h(A)(h(l).avatar||"https://files.codelife.cc/itap.tsuki.icu/logo/avatar.png",40)},null,8,pe),h(l)._id?y("",!0):(s(),x("p",ce,k(h(n)("login")),1))]),w("ul",me,[(s(!0),x(z,null,_(h(d),((e,i)=>(s(),x("li",{onContextmenu:D((e=>function(e,a){ae.contextmenuVisible=!0,te.value.open(e),ze=a,ke=e.clientY-110}(e,i)),["prevent","stop"]),draggable:!0,onDragover:a[0]||(a[0]=D((()=>{}),["prevent"])),onDragenter:a=>function(e,a){ae.dragData||H(a.id)}(0,e),onDragstart:a=>function(e,a){ae.dragData=a}(0,e),onDrop:a=>function(e,a){if(ye&&(ae.sideVisible=!0,ae.dragData)){let e=d.value.findIndex((e=>e==ae.dragData)),i=d.value.findIndex((e=>e==a));d.value[e]=d.value.splice(i,1,ae.dragData)[0],ae.dragData=null}}(0,e),class:C(["app-group-item hover",{active:e.id==h(g)}]),onClick:a=>h(H)(e.id),key:e},[w("div",{title:e.name,id:e.id},[r(T,{size:18,icon:`icon-${e.icon}`},null,8,["icon"]),w("p",be,k(e.name),1)],8,fe)],42,ue)))),128)),r(h(J),{ref_key:"refGrouppopover",ref:le,"popper-class":"app-group-popover",placement:"left"==h(se)?"right":"left",title:`${"add"==h(_e)?h(n)("add"):h(n)("edit")}${h(n)("group")}`,width:260,trigger:"manual",visible:ae.addVisible,"onUpdate:visible":a[3]||(a[3]=e=>ae.addVisible=e)},{reference:V((()=>[w("li",{id:"appGroupAdd",class:"app-group-item hover",onClick:a[1]||(a[1]=e=>(ae.addVisible=!ae.addVisible,M(_e)?_e.value="add":_e="add"))},[r(h(Q),{size:16},{default:V((()=>[r(h(P))])),_:1})])])),default:V((()=>[w("h5",null,k(h(n)("icon")),1),w("ul",ve,[(s(!0),x(z,null,_(ae.iconList,(e=>(s(),x("li",{title:e.name,class:C(["app-group-icon-item hover",{active:e==ie.icon}]),key:e,onClick:a=>ie.icon=e},[r(T,{class:"d-icon",icon:`icon-${e}`,size:16},null,8,["icon"])],10,ge)))),128))]),w("h5",je,k(h(n)("name")),1),r(h(X),{class:"app-group-input",size:"default",maxlength:"12",modelValue:ie.name,"onUpdate:modelValue":a[2]||(a[2]=e=>ie.name=e),placeholder:h(n)("name")},null,8,["modelValue","placeholder"]),w("div",he,[r(h(F),{class:"mr10",type:"primary",size:"small",onClick:De},{default:V((()=>[O(k(h(n)("save")),1)])),_:1}),r(h(F),{size:"small",onClick:Te},{default:V((()=>[O(k(h(n)("cancel")),1)])),_:1})])])),_:1},8,["placement","title","visible"])]),w("div",{class:"d-flex-center mb5 d-pointer",onClick:a[4]||(a[4]=e=>ae.juanzhuVisible=!0)},[w("i",xe,[r(h(oe))])]),r(I,{modelValue:ae.juanzhuVisible,"onUpdate:modelValue":a[5]||(a[5]=e=>ae.juanzhuVisible=e)},null,8,["modelValue"]),w("div",{id:"step2",class:"app-sidebar-setting d-flex-center",onClick:He},[w("p",null,[w("i",Ve,[r(h(U))])])])]),r(E,{uid:"homeNavGroup_81d8fg",onClick:Ce,data:ae.contextmenuData,ref_key:"refContextmenu",ref:te},null,8,["data"])],34)):y("",!0)}},[["__scopeId","data-v-fab4a60e"]]);export{ye as default};
