import{al as e,c3 as t}from"./save_config.7e387697.js";import{o as n,a as r}from"./event2.b0442ad9.js";const o=e=>Array.from(e.querySelectorAll('a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])')).filter((e=>a(e)&&(e=>"fixed"!==getComputedStyle(e).position&&null!==e.offsetParent)(e))),a=e=>{if(e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!==e.rel;case"INPUT":return!("hidden"===e.type||"file"===e.type);case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},d=[],u=e=>{if(0===d.length)return;const n=d[d.length-1]["_trap-focus-children"];if(n.length>0&&e.code===t.tab){if(1===n.length)return e.preventDefault(),void(document.activeElement!==n[0]&&n[0].focus());const t=e.shiftKey,r=e.target===n[0],o=e.target===n[n.length-1];r&&t&&(e.preventDefault(),n[n.length-1].focus()),o&&!t&&(e.preventDefault(),n[0].focus())}},i={beforeMount(e){e["_trap-focus-children"]=o(e),d.push(e),d.length<=1&&n(document,"keydown",u)},updated(t){e((()=>{t["_trap-focus-children"]=o(t)}))},unmounted(){d.shift(),0===d.length&&r(document,"keydown",u)}};export{i as T};
