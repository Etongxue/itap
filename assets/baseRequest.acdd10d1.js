var e=Object.defineProperty,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,a=(t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s;import{bJ as o,bK as n,br as c,bt as i,bs as p}from"./todo.9d8ad3e1.js";import{a as l}from"./index.becf6c0c.js";let m="https://api.codelife.cc/";m="https://api.codelife.cc/";const u="https://api.codelife.cc/",d=o((()=>n("userInfo",{},{listenToStorageChanges:!1}))),b=d();var f=()=>{c.remove("token"),b.value={}};const g="1.3.00";var v={version:"1.3.00"};const h=async()=>{const e=i().valueOf().toString();return(await p((()=>import("./aes.5c3d0f38.js").then((function(e){return e.a}))),["assets/aes.5c3d0f38.js","assets/todo.9d8ad3e1.js","assets/todo.a2cec06c.css"])).encrypt(e,"itab1314").toString()},y=l.create({baseURL:"https://api.codelife.cc/",timeout:15e3});y.interceptors.request.use((async e=>{let o=c.get("token"),n=await h();return e.headers.signaturekey=n,e.headers.version=v.version,o&&(e.headers.token=o),"get"==e.method&&(e.params=((e,o)=>{for(var n in o||(o={}))r.call(o,n)&&a(e,n,o[n]);if(t)for(var n of t(o))s.call(o,n)&&a(e,n,o[n]);return e})({lang:"cn"},e.params)),e}),(e=>{Promise.reject(e)})),y.interceptors.response.use((e=>{const t=e.data;return 401==t.code?(f(),Promise.reject(t.msg)):500==t.code?(p((()=>import("./index.8c1ac3e2.js")),["assets/index.8c1ac3e2.js","assets/todo.9d8ad3e1.js","assets/todo.a2cec06c.css","assets/config-provider.31e0a14a.js","assets/index.88f3c51b.js","assets/style.83568f4e.js","assets/index.6fb72867.js","assets/isObject.44842e39.js","assets/index.90c48122.js","assets/typescript.72bf8adc.js","assets/icon.b571cc89.js","assets/aria.66f3f71c.js","assets/index.172974c9.js"]).then((e=>{e.ElMessage({type:"error",message:t.msg,duration:3e3,dangerouslyUseHTMLString:!0,showClose:!0})})),Promise.reject(t.msg)):t}),(e=>Promise.reject(e)));var j=y;export{u as B,f as L,h as a,j as b,v as p,d as u,g as v};
