import{_ as a}from"./d-dialog.64ba485e.js";import{cc as e,r as l,ca as t,aY as s,aG as i,aH as r,ay as n,W as o,X as c,a2 as d,bo as p,x as f,V as m,b3 as h,b1 as u,I as v,aE as b,U as g,D as k,bD as w,a1 as y,aB as x,az as j}from"./save_config.7e387697.js";import{r as _,N as D,O as A,Q as S}from"./main.5f87c81f.js";import{E}from"./el-input.07836306.js";/* empty css                */import{E as C}from"./el-skeleton-item.c18dff8f.js";import{E as z}from"./el-image-viewer.560b8f55.js";import{E as M}from"./index2.cbbf447a.js";import"./el-overlay.e22515de.js";import"./zoom-in.275d1c48.js";var V={};Object.defineProperty(V,"__esModule",{value:!0});const B=_,H={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48"},L=[(0,B.createElementVNode)("g",{fill:"none"},[(0,B.createElementVNode)("path",{d:"M11.25 8.5a4.75 4.75 0 0 0-4.75 4.75v15.5a4.75 4.75 0 0 0 4.75 4.75h3.25v7.838L25.603 33.5H36.75a4.75 4.75 0 0 0 4.75-4.75v-15.5a4.75 4.75 0 0 0-4.75-4.75h-25.5zM4 13.25A7.25 7.25 0 0 1 11.25 6h25.5A7.25 7.25 0 0 1 44 13.25v15.5A7.25 7.25 0 0 1 36.75 36H26.397l-10.85 7.658C14.057 44.71 12 43.644 12 41.82V36h-.75A7.25 7.25 0 0 1 4 28.75v-15.5z",fill:"currentColor"})],-1)];var N=V.default=(0,B.defineComponent)({name:"Comment48Regular",render:function(a,e){return(0,B.openBlock)(),(0,B.createElementBlock)("svg",H,L)}}),O={};Object.defineProperty(O,"__esModule",{value:!0});const R=_,I={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},K=[(0,R.createElementVNode)("path",{d:"M24.832 16.969c-.272-.647-.582-1.38-.883-2.285c-.79-2.369 1.734-4.953 1.758-4.977l-1.414-1.414c-.14.14-3.423 3.478-2.242 7.023c.326.978.652 1.75.938 2.43A9.381 9.381 0 0 1 24 22a6.24 6.24 0 0 1-4.19 5.293a8.52 8.52 0 0 0-2.103-8l-1.044-1.044l-.582 1.357c-1.836 4.284-4.021 6.154-5.306 6.934A5.844 5.844 0 0 1 8 22a9.624 9.624 0 0 1 .929-3.629A11.333 11.333 0 0 0 10 14v-1.778c.874.36 2 1.303 2 3.778v2.603l1.743-1.934c3.112-3.454 2.463-7.567 1.206-10.308A4.486 4.486 0 0 1 18 11h2c0-5.537-4.579-7-7-7h-2l1.2 1.599c.137.185 2.862 3.927 1.353 7.688A4.943 4.943 0 0 0 9 10H8v4a9.624 9.624 0 0 1-.929 3.629A11.333 11.333 0 0 0 6 22c0 3.848 3.823 8 10 8s10-4.152 10-8a11.377 11.377 0 0 0-1.168-5.031zM12.835 27.526a16.499 16.499 0 0 0 4.367-5.598a6.105 6.105 0 0 1 .257 5.971A11.321 11.321 0 0 1 16 28a10.328 10.328 0 0 1-3.165-.474z",fill:"currentColor"},null,-1)];var P=O.default=(0,R.defineComponent)({name:"Fire",render:function(a,e){return(0,R.openBlock)(),(0,R.createElementBlock)("svg",I,K)}});const U=a=>(x("data-v-f18914a8"),a=a(),j(),a),$={class:"app-jikipedia d-layout"},F={class:"d-layout-content d-cell pt10"},G={class:"d-flex-between"},Q={key:0,class:"mb5 ml5"},W={class:"d-auto-y",style:{height:"calc(100% - 40px)"}},X={class:"wallScroll d-scrollbar hfull",style:{overflow:"auto"},"infinite-scroll-distance":"50","infinite-scroll-delay":"100","infinite-scroll-immediate":!1},Y={class:"mb10 f16 b d-main"},q={class:"f13"},J={class:"jikipedia-item-imgs"},T={class:"jikipedia-item-user mt10 d-flex-between"},Z=["href"],aa=["href"],ea={class:"ac"},la=y("加载更多"),ta={class:"d-layout-aside ml10 mt10",style:{width:"220px"}},sa={class:"pl10 pr10 pt20",style:{"background-color":"var(--bg-card)"}},ia={class:"b f16 pb10 bb"},ra=y(" 热门搜索 "),na={class:"mt10"},oa=["href"],ca={class:"f14 d-elip"},da={class:"f12 d-sub mt5 d-elip"},pa=U((()=>c("p",{class:"f12 d-sub"},[y(" 本页数据由"),c("a",{style:{color:"#ffbc40"},href:"https://jikipedia.com/",target:"_blank"},"小鸡词典"),y("提供")],-1)));var fa=e({setup(a){const e=l({listData:[],rankData:[],phrase:"",loading:!1,isSearch:!1,placeholder:""}),y={page:1,size:12};async function x(a){a?(y.page=1,e.loading=!0):y.page+=1;let l=`jidicList_${y.page}`;if(!e.isSearch){let s=await t.get(l);if(s)return e.listData=a?s:[...e.listData,...s],void(e.loading=!1)}let s=D(y);e.isSearch&&(y.phrase=e.phrase,s=A(y)),s.then((s=>{var i;let r=(null==(i=s.data)?void 0:i.data)||[];e.isSearch||t.set(l,r,18e5),e.listData=a?r:[...e.listData,...r]})).finally((()=>{e.loading=!1}))}function j(){e.phrase=""}function _(a){e.phrase||(e.phrase=e.placeholder),e.isSearch=!0,x(!0)}return x(!0),async function(){let a=await t.get("jidicRank");if(!a){let e=await S();a=e.data||[],t.set("jidicRank",a,12e5)}e.rankData=a;let l=Math.floor(Math.random()*e.rankData.length);e.placeholder=e.rankData[l].phrase}(),s((()=>e.phrase),(a=>{!a&&e.isSearch&&(e.isSearch=!1,x(!0))})),(a,l)=>{const t=i("el-icon"),s=r("infinite-scroll");return n(),o("div",$,[c("div",F,[c("div",G,[d(f(E),{onClear:j,clearable:"",onKeyup:p(_,["enter"]),style:{width:"320px"},placeholder:f(e).placeholder,class:"mb10",modelValue:f(e).phrase,"onUpdate:modelValue":l[0]||(l[0]=a=>f(e).phrase=a)},null,8,["onKeyup","placeholder","modelValue"])]),f(e).isSearch?(n(),o("h3",Q,"搜索结果:")):m("",!0),c("div",W,[h((n(),o("div",X,[d(f(C),{loading:f(e).loading,rows:3,count:1,animated:""},{default:u((()=>[(n(!0),o(v,null,b(f(e).listData,(a=>(n(),g(f(M),{class:"mb10 jikipedia-item",key:a.id},{default:u((()=>[c("h2",Y,k(a.texts[0].content),1),c("p",q,k(a.texts[1].content),1),c("ul",J,[(n(!0),o(v,null,b(a.images,((e,l)=>(n(),g(f(z),{"preview-teleported":"","hide-on-click-modal":"",fit:"cover","initial-index":l,previewSrcList:a.images.map((a=>a.path)),key:l,src:e.path},null,8,["initial-index","previewSrcList","src"])))),128))]),c("ul",T,[(n(!0),o(v,null,b(a.users,(a=>(n(),o("a",{class:"d-sub f12",target:"_blank",key:a.id,href:a.path},k(a.name),9,Z)))),128)),c("a",{class:"d-sub f12 mr20",target:"_blank",href:a.path},[d(t,{size:18},{default:u((()=>[d(f(N))])),_:1})],8,aa)])])),_:2},1024)))),128))])),_:1},8,["loading"]),c("p",ea,[d(f(w),{onClick:l[1]||(l[1]=a=>x())},{default:u((()=>[la])),_:1})])])),[[s,x]])])]),c("div",ta,[c("div",sa,[c("h2",ia,[d(t,{color:"#fe2d46",style:{"vertical-align":"-1px"}},{default:u((()=>[d(f(P))])),_:1}),ra]),c("ul",na,[(n(!0),o(v,null,b(f(e).rankData,((a,e)=>(n(),o("a",{href:`https://jikipedia.com/search?phrase=${a.phrase}`,target:"_blank",key:e,class:"mb10 bb pb5 jikiRank-item"},[c("i",null,k(e+1),1),c("span",null,[c("h2",ca,k(a.phrase),1),c("p",da,k(a.desc),1)])],8,oa)))),128))])]),pa])])}}},[["__scopeId","data-v-f18914a8"]]);const ma={setup:e=>(e,l)=>(n(),g(a,{destroyOnClose:!0},{default:u((()=>[d(fa)])),_:1}))};export{ma as default};
