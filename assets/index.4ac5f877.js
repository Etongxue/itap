var a=Object.defineProperty,e=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(e,t,l)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,o=(a,e)=>{for(var t in e||(e={}))s.call(e,t)&&r(a,t,e[t]);if(l)for(var t of l(e))n.call(e,t)&&r(a,t,e[t]);return a},i=(a,l)=>e(a,t(l));import{a4 as c,ay as d,U as p,a2 as m,W as u,X as f,r as w,k as h,Q as y,aG as b,aH as v,b1 as g,b3 as x,x as _,D as k,I as j,aE as M,a1 as O,V as z,A as D,bx as C,C as S}from"./save_config.7e387697.js";import{_ as q}from"./d-dialog.64ba485e.js";import"./el-input.07836306.js";import{a as I,E as V}from"./el-select.79d7c506.js";import"./el-scrollbar.80933a65.js";/* empty css                  */import{a as T}from"./timeFormat.59b65a7c.js";import{a7 as H,a8 as W,a9 as A,aa as E,ab as P,ac as B}from"./main.5f87c81f.js";import{u as L,U as $,i as F,a as G,b as U}from"./install.31878728.js";import"./el-overlay.e22515de.js";import"./index2.69c4a5bb.js";import"./event2.b0442ad9.js";import"./isEqual.8b269055.js";import"./_baseIsEqual.840160ed.js";import"./index2.dd10852c.js";import"./validator2.fec6f1ba.js";import"./arrow-up.1bfacdc1.js";var Q=c({name:"Aim"});const X={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Y=m("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),J=m("path",{fill:"currentColor",d:"M512 96a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V128a32 32 0 0 1 32-32zm0 576a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V704a32 32 0 0 1 32-32zM96 512a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64H128a32 32 0 0 1-32-32zm576 0a32 32 0 0 1 32-32h192a32 32 0 1 1 0 64H704a32 32 0 0 1-32-32z"},null,-1);Q.render=function(a,e,t,l,s,n){return d(),p("svg",X,[Y,J])},Q.__file="packages/components/Aim.vue";var K=Q;const N={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},R=[f("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[f("path",{d:"M5 21c.5-4.5 2.5-8 7-10"}),f("path",{d:"M9 18c6.218 0 10.5-3.288 11-12V4h-4.014c-9 0-11.986 4-12 9c0 1 0 3 2 5h3z"})],-1)];var Z=c({name:"Leaf",render:function(a,e){return d(),u("svg",N,R)}});const aa={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ea=[f("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[f("path",{d:"M3 17h1m16 0h1M5.6 10.6l.7.7m12.1-.7l-.7.7M8 17a4 4 0 0 1 8 0"}),f("path",{d:"M3 21h18"}),f("path",{d:"M12 9V3l3 3M9 6l3-3"})],-1)];var ta=c({name:"Sunrise",render:function(a,e){return d(),u("svg",aa,ea)}});const la={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},sa=[f("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[f("path",{d:"M3 17h1m16 0h1M5.6 10.6l.7.7m12.1-.7l-.7.7M8 17a4 4 0 0 1 8 0"}),f("path",{d:"M3 21h18"}),f("path",{d:"M12 3v6l3-3M9 6l3 3"})],-1)];var na=c({name:"Sunset",render:function(a,e){return d(),u("svg",la,sa)}});const ra={class:"app-weather-body d-scrollbar-hide"},oa={class:"d-flex-between"},ia={class:"f12"},ca={class:"ml5"},da={class:"ml5"},pa={class:"f12 ml20"},ma={class:"d-flex-y app-weather-select"},ua={class:"d-flex-y mt20 mb20"},fa={class:"weather-now-tmp"},wa={class:"ml20"},ha={key:0,class:"weather-aqi"},ya={class:"mt10 d-flex-y"},ba={class:"mr10"},va={class:"mr10"},ga={class:"mr10"},xa={key:0,class:"f13"},_a={class:"mt10 mb10 f13 d-flex",style:{"line-height":"18px",height:"16px"}},ka={class:"mr20"},ja={class:"mr20"},Ma={class:"mr20"},Oa={class:"mr20"},za={class:"mr20"},Da={class:"weather-card-bg"},Ca=f("h3",{class:"weather-card-title"},"24H天气预报",-1),Sa={class:"mb10 f12"},qa={class:"mb10 d-flex-center"},Ia=["title"],Va={class:"weather-card-bg"},Ta=f("h3",{class:"weather-card-title"},"7日天气预报",-1),Ha={class:"mt5 weather-daily_grid f14"},Wa={class:"mb10"},Aa={class:"mb10"},Ea={class:"mb10 d-flex-center"},Pa=f("p",{style:{height:"180px"}},null,-1),Ba={class:"mb10"},La={class:"weather-card-bg"},$a=f("h3",{class:"weather-card-title"},"生活指数",-1),Fa={class:"weather-lifestyle f12"},Ga=f("div",{class:"mt10 f12 ac"},"天气数据由和风天气提供",-1),Ua={name:"appWeather",title:"i天气",icon:"weather-icon",description:"准确预报全球近10000多个地区的一周天气预报，包括国内县级和县级以上全部城市"},Qa=Object.assign(Ua,{setup(a){L([F,G,U]);const e=H(),t=w({cityId:"",cityOptions:[],loading:!1,searchWeather:null,updateTime:"",hourly24Data:[]}),l=h(null);const s=y((()=>{const a={type:"line",smooth:.2,label:{show:!0,position:"bottom",color:"#fff",borderWidth:0,formatter:function(a){return a.value+"°"}},lineStyle:{width:1},symbolSize:10,itemStyle:{width:10}},t=e.value.daily_forecast.map((a=>a.tmp_max)),l=e.value.daily_forecast.map((a=>a.tmp_min));return{backgroundColor:"transparent",color:["#fff","#fff"],grid:{left:"4%",right:"6%",bottom:30,top:30,containLabel:!0},xAxis:{type:"category",boundaryGap:!1,show:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value",show:!1,min:Math.min(...l)},series:[i(o({},a),{label:{show:!0,position:"top",color:"#fff",borderWidth:0,formatter:function(a){return a.value+"°"}},data:t}),i(o({},a),{data:l})]}})),n={cw:"洗车指数",drsg:"穿衣指数",uv:"紫外线指数",fsh:"钓鱼指数",comf:"舒适度指数",sport:"运动指数",flu:"感冒指数",trav:"旅游指数"},r=y((()=>(e.value.lifestyle||[]).map((a=>({name:n[a.type],value:a.brf}))))),c=y((()=>({backgroundImage:W(e.value.now.cond_code)})));function Q(a){t.cityOptions=[],a.length<2||P({location:a}).then((a=>{let e=a.location||[];e=e.map((a=>o({label:a.name+"-"+a.adm2},a))),t.cityOptions=e}))}async function X(){t.loading=!0,await B(null,!0),await A(!0),t.cityId="",setTimeout((()=>{t.loading=!1}),300)}async function Y(a){if(t.loading=!0,!a)return;let e=t.cityOptions.find((e=>e.id==a));await B(e,!0),await A(!0),setTimeout((()=>{t.loading=!1}),200)}function J(a){let e=["周日","周一","周二","周三","周四","周五","周六"][C(a).day()];return C(a).format("DD")==C().format("DD")&&(e="今天"),e}return async function(){let a=await A();t.hourly24Data=a.hourly||[]}(),(a,n)=>{const o=b("el-icon"),i=v("loading");return d(),p(q,null,{default:g((()=>[x((d(),u("div",{class:"app-weather",style:S(_(c))},[f("div",ra,[f("div",oa,[f("div",ia,[f("span",null,k(_(e).location.adm2)+",",1),f("span",null,k(_(e).location.name),1),f("span",ca,k(_(e).now.cond_txt),1),f("span",da,k(_(e).daily_forecast[0].tmp_min)+"°~"+k(_(e).daily_forecast[0].tmp_max)+"° ",1),f("span",pa,"发布于:"+k(_(T)(_(e).updateTime)),1)]),f("div",ma,[m(_(V),{"append-to":"",modelValue:_(t).cityId,"onUpdate:modelValue":n[0]||(n[0]=a=>_(t).cityId=a),"remote-method":Q,filterable:"",remote:"","popper-class":"app-weather-popper",placeholder:"输入城市、乡镇",onChange:Y,size:"default"},{default:g((()=>[(d(!0),u(j,null,M(_(t).cityOptions,(a=>(d(),p(_(I),{key:a.value,label:a.label,value:a.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),m(o,{title:"自动定位",class:"location-btn",onClick:X},{default:g((()=>[m(_(K))])),_:1})])]),f("div",ua,[f("span",fa,k(_(e).now.tmp)+"°",1),f("div",wa,[_(e).air_now_city?(d(),u("p",ha,[m(o,{size:22},{default:g((()=>[m(_(Z))])),_:1}),O(" "+k(_(e).air_now_city.qlty)+"/"+k(_(e).air_now_city.aqi),1)])):z("",!0),f("p",ya,[f("i",{class:D(["f15 mr5",`qi-${_(e).now.cond_code}-fill`])},null,2),f("span",ba,k(_(e).now.cond_txt),1),f("span",va,k(_(e).now.wind_dir),1),f("span",ga,k(_(e).now.wind_sc)+"级",1)])])]),_(e).rain?(d(),u("div",xa,"预计"+k(_(e).rain.txt),1)):z("",!0),f("div",_a,[f("span",ka,"湿度"+k(_(e).now.hum)+"%",1),f("span",ja,"气压"+k(_(e).now.pres)+"百帕",1),f("span",Ma,"降水"+k(_(e).now.pcpn)+"mm",1),f("span",Oa,[m(o,{size:16,title:"日出"},{default:g((()=>[m(_(ta))])),_:1}),O(" "+k(_(e).sun.rise),1)]),f("span",za,[m(o,{size:16,title:"日落"},{default:g((()=>[m(_(na))])),_:1}),O(" "+k(_(e).sun.set),1)])]),f("div",Da,[Ca,f("ul",{onMousewheel:n[1]||(n[1]=a=>function(a){a.preventDefault();let e=-a.wheelDelta||40*-a.deltaY,t=l.value;t.scrollLeft=t.scrollLeft+e/2}(a)),ref_key:"h24Scrollbar",ref:l,class:"f14 d-auto-x",style:{display:"flex"}},[(d(!0),u(j,null,M(_(t).hourly24Data,((a,e)=>(d(),u("li",{class:"weather-daily_item ac pb20",key:e,style:{"min-width":"50px"}},[f("p",Sa,k(_(T)(a.fxTime,"HH时")),1),f("p",qa,[f("i",{class:D(["f16",`qi-${a.icon}-fill`]),title:a.text},null,10,Ia)]),f("p",null,k(a.temp)+"°",1)])))),128))],544)]),f("div",Va,[Ta,f("ul",Ha,[(d(!0),u(j,null,M(_(e).daily_forecast,((a,e)=>{return d(),u("li",{class:"weather-daily_item ac",key:e},[f("p",Wa,k(J(a.date)),1),f("p",Aa,k((t=a.date,C(t).format("MM-DD"))),1),f("p",Ea,[f("i",{class:D(["f18 mr5",`qi-${a.cond_code_d}-fill`])},null,2),O(" "+k(a.cond_txt_d),1)]),Pa,f("p",Ba,[m(o,null,{default:g((()=>[m(_(E))])),_:1}),O(" "+k(a.wind_sc)+"级 ",1)])]);var t})),128)),m(_($),{autoresize:"",theme:"dark",class:"weather-line",option:_(s)},null,8,["option"])])]),f("div",La,[$a,f("ul",Fa,[(d(!0),u(j,null,M(_(r),((a,e)=>(d(),u("li",{class:"d-flex-center",key:e},[f("div",null,[f("p",null,k(a.name),1),f("p",null,k(a.value),1)])])))),128))])]),Ga])],4)),[[i,_(t).loading]])])),_:1})}}});export{Qa as default};
