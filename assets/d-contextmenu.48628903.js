import{bu as e,r as s,bZ as t,aY as a,Q as i,aw as n,ay as o,U as c,a2 as l,b1 as u,b3 as m,bn as d,X as r,W as f,aE as p,A as b,aI as y,a1 as v,D as h,V as k,I as x,C as g,x as S,b6 as X,T as Y}from"./todo.9d8ad3e1.js";import{o as _,a as j,S as w}from"./main.bc43ff04.js";import{S as C}from"./Search.ae535b15.js";const I=["id"],W=["onClick"],A={class:"item-icon d-icon"},E={key:0,class:"d-sub ml10"},H={components:{Search:C,Setting:w}};var $=e(Object.assign(H,{__name:"d-contextmenu",props:{data:{type:Array,default:()=>[]},active:String,uid:{required:!0,type:String}},emits:["click"],setup(e,{expose:w,emit:C}){const H=e,$=s({visible:!1,mouseX:0,mouseY:0,winWidth:0,winHeight:0}),{width:q,height:B}=t();function D(e){$.visible&&($.visible=!1)}a((()=>$.visible),(e=>{e&&_(document,"click",D)}));const F=i((()=>({left:$.mouseX+"px",top:$.mouseY+"px"})));return w({open:async e=>{const s=document.getElementById(`menu${H.uid}`);document.querySelectorAll(".d-contextmenu.v-contextmenu").forEach((e=>{e.id!==`menu${H.uid}`?e.style.display="none":e.style.display="block"})),$.visible=!0;let t=e.clientX,a=e.clientY;t>=q.value-s.offsetWidth&&(t=q.value-s.offsetWidth),a>B.value-s.offsetHeight&&(a=B.value-s.offsetHeight),$.mouseX=t,$.mouseY=a}}),n((()=>{j(document,"click",D),j(document,"contextmenu",D)})),(s,t)=>(o(),c(Y,{to:"body"},[l(X,{name:"menu-scale"},{default:u((()=>[m(r("ul",{style:g(S(F)),class:"d-contextmenu v-contextmenu",id:`menu${e.uid}`},[(o(!0),f(x,null,p(e.data,(s=>(o(),f("li",{onClick:e=>function(e){C("click",e)}(s),class:b(["d-contextmenu-item",{bb:s.group}]),key:s.type},[r("i",A,[(o(),c(y(e.active==s.key?"check":s.icon)))]),v(" "+h(s.name)+" ",1),"search"===s.key?(o(),f("span",E,"Ctrl+F")):k("",!0)],10,W)))),128))],12,I),[[d,$.visible]])])),_:1})]))}}),[["__scopeId","data-v-3a06303f"]]);export{$ as default};
