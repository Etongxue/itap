import{_ as e}from"./d-dialog.15134adf.js";import{bu as a,r as t,bE as s,aY as l,aG as i,aH as r,ay as o,W as n,X as c,a2 as d,bo as p,x as m,V as f,b3 as h,b1 as u,I as b,aE as j,U as v,D as g,a1 as k,aB as x,az as w}from"./todo.9d8ad3e1.js";import{jidicOpenBrowseApi as y,jidicOpenSearch as _,jidicOpenRankApi as D}from"./jikipedia.6594438f.js";/* empty css             *//* empty css                 *//* empty css                */import{E as A}from"./el-skeleton-item.cf310736.js";import{E as C}from"./el-image-viewer.373c54a1.js";/* empty css                  */import{r as E}from"./main.bc43ff04.js";import{E as S}from"./index.469ed053.js";import{E as M}from"./index.7834abb3.js";import{ElButton as V}from"./index.7243f2d8.js";import"./el-dialog.78f7c2e8.js";import"./index.88f3c51b.js";import"./style.83568f4e.js";import"./index.6fb72867.js";import"./isObject.44842e39.js";import"./icon.b571cc89.js";import"./index.b2ab0f23.js";import"./focus-trap.50913811.js";import"./aria.66f3f71c.js";import"./index.172974c9.js";import"./index.8ef2203f.js";import"./scroll.d4cf4dfc.js";/* empty css                   */import"./Close.ac61f2f5.js";import"./baseRequest.acdd10d1.js";import"./index.becf6c0c.js";import"./typescript.72bf8adc.js";import"./throttle.8deae385.js";import"./debounce.86275fe6.js";import"./position.c5cd7449.js";import"./index.90c48122.js";import"./index.f979cd8a.js";var z={};Object.defineProperty(z,"__esModule",{value:!0});const B=E,R={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48"},H=[(0,B.createElementVNode)("g",{fill:"none"},[(0,B.createElementVNode)("path",{d:"M11.25 8.5a4.75 4.75 0 0 0-4.75 4.75v15.5a4.75 4.75 0 0 0 4.75 4.75h3.25v7.838L25.603 33.5H36.75a4.75 4.75 0 0 0 4.75-4.75v-15.5a4.75 4.75 0 0 0-4.75-4.75h-25.5zM4 13.25A7.25 7.25 0 0 1 11.25 6h25.5A7.25 7.25 0 0 1 44 13.25v15.5A7.25 7.25 0 0 1 36.75 36H26.397l-10.85 7.658C14.057 44.71 12 43.644 12 41.82V36h-.75A7.25 7.25 0 0 1 4 28.75v-15.5z",fill:"currentColor"})],-1)];var L=z.default=(0,B.defineComponent)({name:"Comment48Regular",render:function(e,a){return(0,B.openBlock)(),(0,B.createElementBlock)("svg",R,H)}}),O={};Object.defineProperty(O,"__esModule",{value:!0});const N=E,I={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},K=[(0,N.createElementVNode)("path",{d:"M24.832 16.969c-.272-.647-.582-1.38-.883-2.285c-.79-2.369 1.734-4.953 1.758-4.977l-1.414-1.414c-.14.14-3.423 3.478-2.242 7.023c.326.978.652 1.75.938 2.43A9.381 9.381 0 0 1 24 22a6.24 6.24 0 0 1-4.19 5.293a8.52 8.52 0 0 0-2.103-8l-1.044-1.044l-.582 1.357c-1.836 4.284-4.021 6.154-5.306 6.934A5.844 5.844 0 0 1 8 22a9.624 9.624 0 0 1 .929-3.629A11.333 11.333 0 0 0 10 14v-1.778c.874.36 2 1.303 2 3.778v2.603l1.743-1.934c3.112-3.454 2.463-7.567 1.206-10.308A4.486 4.486 0 0 1 18 11h2c0-5.537-4.579-7-7-7h-2l1.2 1.599c.137.185 2.862 3.927 1.353 7.688A4.943 4.943 0 0 0 9 10H8v4a9.624 9.624 0 0 1-.929 3.629A11.333 11.333 0 0 0 6 22c0 3.848 3.823 8 10 8s10-4.152 10-8a11.377 11.377 0 0 0-1.168-5.031zM12.835 27.526a16.499 16.499 0 0 0 4.367-5.598a6.105 6.105 0 0 1 .257 5.971A11.321 11.321 0 0 1 16 28a10.328 10.328 0 0 1-3.165-.474z",fill:"currentColor"},null,-1)];var P=O.default=(0,N.defineComponent)({name:"Fire",render:function(e,a){return(0,N.openBlock)(),(0,N.createElementBlock)("svg",I,K)}});const U=e=>(x("data-v-f18914a8"),e=e(),w(),e),$={class:"app-jikipedia d-layout"},q={class:"d-layout-content d-cell pt10"},F={class:"d-flex-between"},G={key:0,class:"mb5 ml5"},W={class:"d-auto-y",style:{height:"calc(100% - 40px)"}},X={class:"wallScroll d-scrollbar hfull",style:{overflow:"auto"},"infinite-scroll-distance":"50","infinite-scroll-delay":"100","infinite-scroll-immediate":!1},Y={class:"mb10 f16 b d-main"},J={class:"f13"},Q={class:"jikipedia-item-imgs"},T={class:"jikipedia-item-user mt10 d-flex-between"},Z=["href"],ee=["href"],ae={class:"ac"},te=k("加载更多"),se={class:"d-layout-aside ml10 mt10",style:{width:"220px"}},le={class:"pl10 pr10 pt20",style:{"background-color":"var(--bg-card)"}},ie={class:"b f16 pb10 bb"},re=k(" 热门搜索 "),oe={class:"mt10"},ne=["href"],ce={class:"f14 d-elip"},de={class:"f12 d-sub mt5 d-elip"},pe=U((()=>c("p",{class:"f12 d-sub"},[k(" 本页数据由"),c("a",{style:{color:"#ffbc40"},href:"https://jikipedia.com/",target:"_blank"},"小鸡词典"),k("提供")],-1)));var me=a({__name:"Content",setup(e){const a=t({listData:[],rankData:[],phrase:"",loading:!1,isSearch:!1,placeholder:""}),k={page:1,size:12};async function x(e){e?(k.page=1,a.loading=!0):k.page+=1;let t=`jidicList_${k.page}`;if(!a.isSearch){let l=await s.get(t);if(l)return a.listData=e?l:[...a.listData,...l],void(a.loading=!1)}let l=y(k);a.isSearch&&(k.phrase=a.phrase,l=_(k)),l.then((l=>{var i;let r=(null==(i=l.data)?void 0:i.data)||[];a.isSearch||s.set(t,r,18e5),a.listData=e?r:[...a.listData,...r]})).finally((()=>{a.loading=!1}))}function w(){a.phrase=""}function E(e){a.phrase||(a.phrase=a.placeholder),a.isSearch=!0,x(!0)}return x(!0),async function(){let e=await s.get("jidicRank");if(!e){let a=await D();e=a.data||[],s.set("jidicRank",e,12e5)}a.rankData=e;let t=Math.floor(Math.random()*a.rankData.length);a.placeholder=a.rankData[t].phrase}(),l((()=>a.phrase),(e=>{!e&&a.isSearch&&(a.isSearch=!1,x(!0))})),(e,t)=>{const s=i("el-icon"),l=r("infinite-scroll");return o(),n("div",$,[c("div",q,[c("div",F,[d(m(S),{onClear:w,clearable:"",onKeyup:p(E,["enter"]),style:{width:"320px"},placeholder:a.placeholder,class:"mb10",modelValue:a.phrase,"onUpdate:modelValue":t[0]||(t[0]=e=>a.phrase=e)},null,8,["onKeyup","placeholder","modelValue"])]),a.isSearch?(o(),n("h3",G,"搜索结果:")):f("",!0),c("div",W,[h((o(),n("div",X,[d(m(A),{loading:a.loading,rows:3,count:1,animated:""},{default:u((()=>[(o(!0),n(b,null,j(a.listData,(e=>(o(),v(m(M),{class:"mb10 jikipedia-item",key:e.id},{default:u((()=>[c("h2",Y,g(e.texts[0].content),1),c("p",J,g(e.texts[1].content),1),c("ul",Q,[(o(!0),n(b,null,j(e.images,((a,t)=>(o(),v(m(C),{"preview-teleported":"","hide-on-click-modal":"",fit:"cover","initial-index":t,previewSrcList:e.images.map((e=>e.path)),key:t,src:a.path},null,8,["initial-index","previewSrcList","src"])))),128))]),c("ul",T,[(o(!0),n(b,null,j(e.users,(e=>(o(),n("a",{class:"d-sub f12",target:"_blank",key:e.id,href:e.path},g(e.name),9,Z)))),128)),c("a",{class:"d-sub f12 mr20",target:"_blank",href:e.path},[d(s,{size:18},{default:u((()=>[d(m(L))])),_:1})],8,ee)])])),_:2},1024)))),128))])),_:1},8,["loading"]),c("p",ae,[d(m(V),{onClick:t[1]||(t[1]=e=>x())},{default:u((()=>[te])),_:1})])])),[[l,x]])])]),c("div",se,[c("div",le,[c("h2",ie,[d(s,{color:"#fe2d46",style:{"vertical-align":"-1px"}},{default:u((()=>[d(m(P))])),_:1}),re]),c("ul",oe,[(o(!0),n(b,null,j(a.rankData,((e,a)=>(o(),n("a",{href:`https://jikipedia.com/search?phrase=${e.phrase}`,target:"_blank",key:a,class:"mb10 bb pb5 jikiRank-item"},[c("i",null,g(a+1),1),c("span",null,[c("h2",ce,g(e.phrase),1),c("p",de,g(e.desc),1)])],8,ne)))),128))])]),pe])])}}},[["__scopeId","data-v-f18914a8"]]);const fe={__name:"index",setup:a=>(a,t)=>(o(),v(e,{destroyOnClose:!0},{default:u((()=>[d(me)])),_:1}))};export{fe as default};
