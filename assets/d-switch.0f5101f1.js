import{bu as e,cJ as a,bv as i,bC as t,c$ as l,bH as s,bG as n,cX as c,d$ as o,a4 as d,bJ as r,dX as u,cK as v,cN as h,Q as p,bz as f,cL as b,cM as m,k as y,cY as k,aY as g,cP as C,as as w,bB as V,al as I,e0 as x,bS as S,aG as T,ay as B,W as _,X as N,A as P,bo as D,U as E,b1 as K,aI as z,V as X,D as $,I as j,a2 as q,C as F,bp as G,bF as J,cc as L,ak as U,x as Y,cq as A}from"./save_config.7e387697.js";import{i as H}from"./validator2.fec6f1ba.js";const M=e({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:a,default:""},inactiveIcon:{type:a,default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:i(Function)},size:{type:String,validator:H}}),Q=d({name:"ElSwitch",components:{ElIcon:r,Loading:u},props:M,emits:{[t]:e=>l(e)||s(e)||n(e),[c]:e=>l(e)||s(e)||n(e),[o]:e=>l(e)||s(e)||n(e)},setup(e,{emit:a}){const{formItem:i}=v(),s=h(p((()=>e.loading))),n=f("switch"),{inputId:d}=b(e,{formItemContext:i}),r=m(),u=y(!1!==e.modelValue),V=y(),T=y(),B=p((()=>[n.b(),n.m(r.value),n.is("disabled",s.value),n.is("checked",P.value)])),_=p((()=>({width:k(e.width)})));g((()=>e.modelValue),(()=>{u.value=!0})),g((()=>e.value),(()=>{u.value=!1}));const N=p((()=>u.value?e.modelValue:e.value)),P=p((()=>N.value===e.activeValue));[e.activeValue,e.inactiveValue].includes(N.value)||(a(t,e.inactiveValue),a(c,e.inactiveValue),a(o,e.inactiveValue)),g(P,(()=>{var a;V.value.checked=P.value,(e.activeColor||e.inactiveColor)&&E(),e.validateEvent&&(null==(a=null==i?void 0:i.validate)||a.call(i,"change").catch((e=>C())))}));const D=()=>{const i=P.value?e.inactiveValue:e.activeValue;a(t,i),a(c,i),a(o,i),I((()=>{V.value.checked=P.value}))},E=()=>{const a=P.value?e.activeColor:e.inactiveColor,i=T.value;e.borderColor?i.style.borderColor=e.borderColor:e.borderColor||(i.style.borderColor=a),i.style.backgroundColor=a,i.children[0].style.color=a};return w((()=>{(e.activeColor||e.inactiveColor||e.borderColor)&&E(),V.value.checked=P.value})),{ns:n,input:V,inputId:d,core:T,switchDisabled:s,checked:P,switchKls:B,coreStyle:_,handleChange:D,switchValue:()=>{if(s.value)return;const{beforeChange:a}=e;if(!a)return void D();const i=a();[x(i),l(i)].some((e=>e))||S("ElSwitch","beforeChange must return type `Promise<boolean>` or `boolean`"),x(i)?i.then((e=>{e&&D()})).catch((e=>{})):i&&D()},focus:()=>{var e,a;null==(a=null==(e=V.value)?void 0:e.focus)||a.call(e)}}}}),W=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled"],O=["aria-hidden"],R=["aria-hidden"],Z=["aria-hidden"],ee=["aria-hidden"];const ae=J(V(Q,[["render",function(e,a,i,t,l,s){const n=T("el-icon"),c=T("loading");return B(),_("div",{class:P(e.switchKls),onClick:a[2]||(a[2]=G(((...a)=>e.switchValue&&e.switchValue(...a)),["prevent"]))},[N("input",{id:e.inputId,ref:"input",class:P(e.ns.e("input")),type:"checkbox",role:"switch","aria-checked":e.checked,"aria-disabled":e.switchDisabled,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:e.switchDisabled,onChange:a[0]||(a[0]=(...a)=>e.handleChange&&e.handleChange(...a)),onKeydown:a[1]||(a[1]=D(((...a)=>e.switchValue&&e.switchValue(...a)),["enter"]))},null,42,W),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?X("v-if",!0):(B(),_("span",{key:0,class:P([e.ns.e("label"),e.ns.em("label","left"),e.ns.is("active",!e.checked)])},[e.inactiveIcon?(B(),E(n,{key:0},{default:K((()=>[(B(),E(z(e.inactiveIcon)))])),_:1})):X("v-if",!0),!e.inactiveIcon&&e.inactiveText?(B(),_("span",{key:1,"aria-hidden":e.checked},$(e.inactiveText),9,O)):X("v-if",!0)],2)),N("span",{ref:"core",class:P(e.ns.e("core")),style:F(e.coreStyle)},[e.inlinePrompt?(B(),_("div",{key:0,class:P(e.ns.e("inner"))},[e.activeIcon||e.inactiveIcon?(B(),_(j,{key:0},[e.activeIcon?(B(),E(n,{key:0,class:P([e.ns.is("icon"),e.checked?e.ns.is("show"):e.ns.is("hide")])},{default:K((()=>[(B(),E(z(e.activeIcon)))])),_:1},8,["class"])):X("v-if",!0),e.inactiveIcon?(B(),E(n,{key:1,class:P([e.ns.is("icon"),e.checked?e.ns.is("hide"):e.ns.is("show")])},{default:K((()=>[(B(),E(z(e.inactiveIcon)))])),_:1},8,["class"])):X("v-if",!0)],64)):e.activeText||e.inactiveIcon?(B(),_(j,{key:1},[e.activeText?(B(),_("span",{key:0,class:P([e.ns.is("text"),e.checked?e.ns.is("show"):e.ns.is("hide")]),"aria-hidden":!e.checked},$(e.activeText.substring(0,3)),11,R)):X("v-if",!0),e.inactiveText?(B(),_("span",{key:1,class:P([e.ns.is("text"),e.checked?e.ns.is("hide"):e.ns.is("show")]),"aria-hidden":e.checked},$(e.inactiveText.substring(0,3)),11,Z)):X("v-if",!0)],64)):X("v-if",!0)],2)):X("v-if",!0),N("div",{class:P(e.ns.e("action"))},[e.loading?(B(),E(n,{key:0,class:P(e.ns.is("loading"))},{default:K((()=>[q(c)])),_:1},8,["class"])):X("v-if",!0)],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?X("v-if",!0):(B(),_("span",{key:1,class:P([e.ns.e("label"),e.ns.em("label","right"),e.ns.is("active",e.checked)])},[e.activeIcon?(B(),E(n,{key:0},{default:K((()=>[(B(),E(z(e.activeIcon)))])),_:1})):X("v-if",!0),!e.activeIcon&&e.activeText?(B(),_("span",{key:1,"aria-hidden":!e.checked},$(e.activeText),9,ee)):X("v-if",!0)],2))],2)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]));const ie={class:"d-switch d-flex-between setting-li"};var te=L({props:{modelValue:{required:!0,default:!1},async:{type:Boolean,default:!1},title:{type:String}},emits:["update:modelValue"],setup(e,{emit:a}){const i=e,t=e=>{a("update:modelValue",e),i.async&&A("baseConfig")};return(a,i)=>(B(),_("div",ie,[N("span",null,$(e.title),1),q(Y(ae),U({size:"small","model-value":e.modelValue},a.$attrs,{"onUpdate:modelValue":t}),null,16,["model-value"])]))}},[["__scopeId","data-v-1edb3a9c"]]);export{te as D};
