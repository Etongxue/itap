var e=Object.defineProperty,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,i=(a,n,t)=>n in a?e(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t;import{a4 as o,ay as s,U as c,a2 as r,cc as p,r as l,W as u,I as d,aE as m,X as f,b1 as _,aI as y,a3 as v,ak as g,D as b,x as h,bD as j,c9 as D,a1 as E,cm as k,bq as w,dz as A,bx as I,ci as L,ca as z,aG as O,aH as V,A as x,b3 as C,f as T,V as P,cb as R}from"./save_config.7e387697.js";import{_ as q}from"./d-dialog.64ba485e.js";import{D as S}from"./d-empty.cdd4b5c2.js";import{E as U}from"./el-input.07836306.js";import{a as M,E as $}from"./el-select.79d7c506.js";import"./el-scrollbar.80933a65.js";/* empty css                  *//* empty css                */import{E as G}from"./el-skeleton-item.c18dff8f.js";import{D as K}from"./d-icon-panel.9fed48de.js";import{k as W,u as B,l as F,m as H,b as N,n as X,d as J,p as Q}from"./main.5f87c81f.js";import{c as Y}from"./cloneDeep.3e2686af.js";import{C as Z}from"./CustomAdd.11d94857.js";import{a as ee}from"./addToDesk.c8c01a3c.js";import{E as ae}from"./index2.cbbf447a.js";import"./el-overlay.e22515de.js";import"./index2.69c4a5bb.js";import"./event2.b0442ad9.js";import"./isEqual.8b269055.js";import"./_baseIsEqual.840160ed.js";import"./index2.dd10852c.js";import"./validator2.fec6f1ba.js";import"./arrow-up.1bfacdc1.js";import"./_baseClone.36822d61.js";import"./d-color.788f30cd.js";import"./arrow-down.ee3f081b.js";import"./ossClient.9167d04d.js";import"./el-upload.94e2512c.js";import"./zoom-in.275d1c48.js";import"./el-form-item.9774cccc.js";import"./InfoFilled.ec7b9bb1.js";var ne=o({name:"Link"});const te={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ie=r("path",{fill:"currentColor",d:"M715.648 625.152 670.4 579.904l90.496-90.56c75.008-74.944 85.12-186.368 22.656-248.896-62.528-62.464-173.952-52.352-248.96 22.656L444.16 353.6l-45.248-45.248 90.496-90.496c100.032-99.968 251.968-110.08 339.456-22.656 87.488 87.488 77.312 239.424-22.656 339.456l-90.496 90.496zm-90.496 90.496-90.496 90.496C434.624 906.112 282.688 916.224 195.2 828.8c-87.488-87.488-77.312-239.424 22.656-339.456l90.496-90.496 45.248 45.248-90.496 90.56c-75.008 74.944-85.12 186.368-22.656 248.896 62.528 62.464 173.952 52.352 248.96-22.656l90.496-90.496 45.248 45.248zm0-362.048 45.248 45.248L398.848 670.4 353.6 625.152 625.152 353.6z"},null,-1);ne.render=function(e,a,n,t,i,o){return s(),c("svg",te,[ie])},ne.__file="packages/components/Link.vue";var oe=ne;const se={class:"app-icon-wrap"},ce={class:"app-icon-body d-flex"},re=["onClick"],pe={class:"d-cell"},le={class:"app-icon-title"},ue=["title"],de=E("添加到桌面"),me={name:"widgetList"};var fe=p(Object.assign(me,{props:{size:String},emits:["addToDesk"],setup(e,{emit:a}){const n=e,t=e=>{let a=e.replace("app-","");return v((()=>function(e){switch(e){case"../../DialogApp/app/bookmarks/icon/icon.vue":return D((()=>import("./main.5f87c81f.js").then((function(e){return e.ae}))),["assets/main.5f87c81f.js","assets/main.53f545e2.css","assets/save_config.7e387697.js","assets/save_config.849732b8.css"]);case"../../DialogApp/app/calendar/icon/icon.vue":return D((()=>import("./main.5f87c81f.js").then((function(e){return e.af}))),["assets/main.5f87c81f.js","assets/main.53f545e2.css","assets/save_config.7e387697.js","assets/save_config.849732b8.css"]);case"../../DialogApp/app/daysMatter/icon/icon.vue":return D((()=>import("./main.5f87c81f.js").then((function(e){return e._}))),["assets/main.5f87c81f.js","assets/main.53f545e2.css","assets/save_config.7e387697.js","assets/save_config.849732b8.css"]);case"../../DialogApp/app/habit/icon/icon.vue":return D((()=>import("./main.5f87c81f.js").then((function(e){return e.ag}))),["assets/main.5f87c81f.js","assets/main.53f545e2.css","assets/save_config.7e387697.js","assets/save_config.849732b8.css"]);case"../../DialogApp/app/ip/icon/icon.vue":return D((()=>import("./main.5f87c81f.js").then((function(e){return e.ah}))),["assets/main.5f87c81f.js","assets/main.53f545e2.css","assets/save_config.7e387697.js","assets/save_config.849732b8.css"]);case"../../DialogApp/app/jikipedia/icon/icon.vue":return D((()=>import("./main.5f87c81f.js").then((function(e){return e.ai}))),["assets/main.5f87c81f.js","assets/main.53f545e2.css","assets/save_config.7e387697.js","assets/save_config.849732b8.css"]);case"../../DialogApp/app/multiavatar/icon/icon.vue":return D((()=>import("./main.5f87c81f.js").then((function(e){return e.aj}))),["assets/main.5f87c81f.js","assets/main.53f545e2.css","assets/save_config.7e387697.js","assets/save_config.849732b8.css"]);case"../../DialogApp/app/notes/icon/icon.vue":return D((()=>import("./main.5f87c81f.js").then((function(e){return e.ak}))),["assets/main.5f87c81f.js","assets/main.53f545e2.css","assets/save_config.7e387697.js","assets/save_config.849732b8.css"]);case"../../DialogApp/app/remai/icon/icon.vue":return D((()=>import("./main.5f87c81f.js").then((function(e){return e.al}))),["assets/main.5f87c81f.js","assets/main.53f545e2.css","assets/save_config.7e387697.js","assets/save_config.849732b8.css"]);case"../../DialogApp/app/robot/icon/icon.vue":return D((()=>import("./main.5f87c81f.js").then((function(e){return e.am}))),["assets/main.5f87c81f.js","assets/main.53f545e2.css","assets/save_config.7e387697.js","assets/save_config.849732b8.css"]);case"../../DialogApp/app/speedtest/icon/icon.vue":return D((()=>import("./main.5f87c81f.js").then((function(e){return e.an}))),["assets/main.5f87c81f.js","assets/main.53f545e2.css","assets/save_config.7e387697.js","assets/save_config.849732b8.css"]);case"../../DialogApp/app/stock/icon/icon.vue":return D((()=>import("./main.5f87c81f.js").then((function(e){return e.ao}))),["assets/main.5f87c81f.js","assets/main.53f545e2.css","assets/save_config.7e387697.js","assets/save_config.849732b8.css"]);case"../../DialogApp/app/todo/icon/icon.vue":return D((()=>import("./main.5f87c81f.js").then((function(e){return e.ap}))),["assets/main.5f87c81f.js","assets/main.53f545e2.css","assets/save_config.7e387697.js","assets/save_config.849732b8.css"]);case"../../DialogApp/app/topsearch/icon/icon.vue":return D((()=>import("./main.5f87c81f.js").then((function(e){return e.aq}))),["assets/main.5f87c81f.js","assets/main.53f545e2.css","assets/save_config.7e387697.js","assets/save_config.849732b8.css"]);case"../../DialogApp/app/uppercase/icon/icon.vue":return D((()=>import("./main.5f87c81f.js").then((function(e){return e.ar}))),["assets/main.5f87c81f.js","assets/main.53f545e2.css","assets/save_config.7e387697.js","assets/save_config.849732b8.css"]);case"../../DialogApp/app/wallpaper/icon/icon.vue":return D((()=>import("./main.5f87c81f.js").then((function(e){return e.as}))),["assets/main.5f87c81f.js","assets/main.53f545e2.css","assets/save_config.7e387697.js","assets/save_config.849732b8.css"]);case"../../DialogApp/app/weather/icon/icon.vue":return D((()=>import("./main.5f87c81f.js").then((function(e){return e.at}))),["assets/main.5f87c81f.js","assets/main.53f545e2.css","assets/save_config.7e387697.js","assets/save_config.849732b8.css"]);case"../../DialogApp/app/xiayigejiaqi/icon/icon.vue":return D((()=>import("./main.5f87c81f.js").then((function(e){return e.au}))),["assets/main.5f87c81f.js","assets/main.53f545e2.css","assets/save_config.7e387697.js","assets/save_config.849732b8.css"]);default:return new Promise((function(a,n){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))}))}}(`../../DialogApp/app/${a}/icon/icon.vue`)))},i=l({appList:[]});return fetch("./json/widgeIconList.json").then((e=>e.json())).then((e=>{i.appList=e||[]})),(e,o)=>(s(),u("div",se,[(s(!0),u(d,null,m(h(i).appList,(i=>(s(),u("div",{class:"app-icon-item d-border-radius",key:i.component},[f("div",ce,[r(K,g({class:"mr15",size:n.size},e.$attrs),{default:_((()=>[f("span",{onClick:e=>function(e){W(e.component)}(i),class:"d-pointer"},[(s(),c(y(t(i.component)),{size:n.size},null,8,["size"]))],8,re)])),_:2},1040,["size"]),f("div",pe,[f("h4",le,b(i.name),1),f("div",{class:"app-icon-desc f12",title:i.description},b(i.description),9,ue),r(h(j),{size:"default",onClick:e=>function(e){e.type="component",e.size=n.size;let t=Y(e);delete t.description,a("addToDesk",t)}(i)},{default:_((()=>[de])),_:2},1032,["onClick"])])])])))),128))]))}}),[["__scopeId","data-v-3fe1344e"]]);const _e={class:"d-layout hfull app-add-icon",style:{color:"rgba(var(--alpha-color), 0.7)"}},ye={class:"d-layout-aside category-wrap"},ve={class:"category-body d-scrollbar-hide"},ge=["onClick"],be={class:"hfull p10 d-layout-content"},he=E(" 图标尺寸预览: "),je={class:"d-inline"},De=["onClick"],Ee={class:"d-inline f12 ml20 mr10"},ke={class:"icon-wrap"},we={key:2,class:"icon-body d-scrollbar"},Ae={class:"icon-item-top d-flex-y"},Ie=["onClick","src"],Le=["onClick"],ze=["title"],Oe={class:"ar mt5"},Ve=E("添加"),xe=E("点击加载更多..");var Ce=p({setup(e,{expose:o}){const p=k(),{t:y}=B();function v(e){let a={t:"event",ec:e.name,ea:"open",el:"url"};if(X(a),!e||"itab://add"!=e.url&&"itab://store"!=e.url){if(e&&"itab://setting"==e.url)return J.visible=!0,void(J.active=2);if(!e.component)return e.url&&e.url.includes("http")?void window.open(e.url,"_blank"):void(Q()?D((()=>import("./versionNotice.dd195495.js")),["assets/versionNotice.dd195495.js","assets/save_config.7e387697.js","assets/save_config.849732b8.css"]).then((e=>{e.default({modelValue:!0,center:!0}," 网页版不支持此功能，请安装浏览器扩展后再使用")})):chrome.tabs.create({url:e.url}));W(e.component)}else R.warning("您想要的打开的功能就是当前界面")}const g=l({categoryData:[{name:"自定义图标",type:"custom"},{name:"组件商店",type:"widget"},{name:"浏览器功能",type:"browser"},{name:"热门",type:""},{name:"应用",type:"app"},{name:"媒体资讯",type:"news"},{name:"音乐视频",type:"music"},{name:"科技数码",type:"tech"},{name:"图片设计",type:"photos"},{name:"日常工具",type:"life"},{name:"学习资源",type:"education"},{name:"游戏娱乐",type:"entertainment"},{name:"电商购物",type:"shopping"},{name:"社交平台",type:"social"},{name:"阅读天地",type:"read"},{name:"旅游体育",type:"sports"},{name:"经济金融",type:"finance"},{name:"其他",type:"others"}],loading:!1,iconSize:"small"}),E=l({type:"widget",page:1,lang:"zh",name:"",source:"itab"});o({open:"open"});const K=w(Y,500);async function Y(e){e?(g.loading=!0,E.page=1,g.iconData=[]):E.page++,E.name&&(E.type="search");const o=((e,o)=>{for(var s in o||(o={}))n.call(o,s)&&i(e,s,o[s]);if(a)for(var s of a(o))t.call(o,s)&&i(e,s,o[s]);return e})({},E);"search"==o.type&&(o.type="");let s=`websiteIcon_${o.type}_${o.page}`,c=await A.getItem(s);!E.name&&c&&c.data&&(g.iconData=e?c.data:[...g.iconData,...c.data],g.loading=!1,I().valueOf()<c.exp)||L.getWebsiteList(o).then((a=>{let n=a.data||[];E.name||z.set(s,n,1728e5),g.iconData=e?n:[...g.iconData,...n]})).finally((()=>{g.loading=!1}))}function ne(e){if(e._id&&L.websiteUse({_id:e._id}),e._id){let a=["id","url","type","name","src"].reduce(((a,n)=>(a[n]=e[n]||"",a)),{});a.type="icon",ee(a)}else ee(e)}return(e,a)=>{const n=O("el-icon"),t=V("focus");return s(),c(q,{height:"600px",title:""},{default:_((()=>[f("div",_e,[f("div",ye,[f("h2",null,b(h(y)("addIcon")),1),f("ul",ve,[(s(!0),u(d,null,m(h(g).categoryData,(e=>(s(),u("p",{onClick:a=>function(e){E.type=e.type,E.page=1,E.name="",Y(!0)}(e),class:x([{active:h(E).type==e.type},"category-item"]),key:e.type},b(e.name),11,ge)))),128))])]),f("div",be,[f("div",null,[f("div",{class:x([{active:"widget"==h(E).type},"d-inline widget-size d-elip"])},[he,f("div",je,[(s(),u(d,null,m([{value:"mini",name:"小"},{value:"small",name:"中"},{value:"medium",name:"大"}],(e=>f("span",{key:e.value,class:x(["mr10 text-hover",{"text-active":h(g).iconSize==e.value}]),onClick:a=>h(g).iconSize=e.value},b(e.name),11,De))),64))])],2),C(r(h(U),{autofocus:"autofocus",modelValue:h(E).name,"onUpdate:modelValue":a[0]||(a[0]=e=>h(E).name=e),class:"icon-ipnut",style:{width:"200px"},size:"small",onKeydown:h(K),placeholder:h(y)("setting_search"),"prefix-icon":h(F),clearable:""},null,8,["modelValue","onKeydown","placeholder","prefix-icon"]),[[t,!0]]),f("div",Ee,b(h(y)("targetGroup")),1),r(h($),{modelValue:h(H),"onUpdate:modelValue":a[1]||(a[1]=e=>T(H)?H.value=e:null),style:{width:"100px"},size:"small",placeholder:"group"},{default:_((()=>[(s(!0),u(d,null,m(h(p),(e=>(s(),c(h(M),{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),f("div",ke,["custom"==h(E).type?(s(),c(Z,{key:0,onAddCustomIcon:ne})):"widget"==h(E).type?(s(),c(fe,{key:1,onAddToDesk:ne,size:h(g).iconSize},null,8,["size"])):(s(),u("section",we,[r(h(G),{loading:h(g).loading,rows:3,count:1,animated:""},{default:_((()=>[(s(!0),u(d,null,m(h(g).iconData,(e=>(s(),c(h(ae),{class:"icon-item","body-style":{padding:"16px 10px"},shadow:"hover",key:e._id},{default:_((()=>[f("div",Ae,[f("img",{onClick:a=>v(e),style:{width:"36px",height:"36px","border-radius":"18px"},class:"icon-img",src:h(N)(e.src,50)},null,8,Ie),f("h5",{onClick:a=>v(e),class:"icon-title d-cell d-elip d-main"},b(e.name),9,Le),r(n,{onClick:a=>v(e),size:16},{default:_((()=>[r(h(oe))])),_:2},1032,["onClick"])]),f("div",{class:"icon-item-desc",title:e.description},b(e.description||"暂无描述"),9,ze),f("div",Oe,[r(h(j),{onClick:a=>ne(e),size:"default"},{default:_((()=>[Ve])),_:2},1032,["onClick"])])])),_:2},1024)))),128)),"search"!=h(E).type&&"browser"!=h(E).type?(s(),c(h(j),{key:0,size:"default",onClick:a[2]||(a[2]=e=>Y(!1))},{default:_((()=>[xe])),_:1})):P("",!0),h(g).loading||h(g).iconData.length?P("",!0):(s(),c(S,{key:1}))])),_:1},8,["loading"])]))])])])])),_:1})}}},[["__scopeId","data-v-7eaa4c94"]]);export{Ce as default};
