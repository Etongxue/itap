import{cc as e,r as a,k as t,aG as o,ay as s,U as l,b1 as n,X as r,D as c,x as d,W as i,aE as u,A as p,I as b,a2 as h,bo as v,bp as f,aB as m,az as y,al as g,ci as k}from"./save_config.7e387697.js";import{E as x}from"./el-input.07836306.js";const D=e=>(m("data-v-52561994"),e=e(),y(),e),_={class:"d-layout hfull"},w={class:"d-layout-aside robot-warp",width:"180px"},H={class:"robot-aside-body d-scrollbar-hide"},T=["onClick"],j={class:"d-layout-content hfull p10 app-robot-main"},C=D((()=>r("div",{class:"robot-header"},"header",-1))),R=D((()=>r("img",{class:"robot-chat-user",src:"https://p0.meituan.net/csc/22decbc76a9f5436280e3041a69c2b2110138.png"},null,-1))),V=["innerHTML"],B={class:"robot-chat-input"},E={name:"appRobot"};var I=e(Object.assign(E,{setup(e){const m=a({title:"iRobot",loading:!1,records:[]}),y=t(null),D=a({sender:1,content:""});function E(e){var a;e.preventDefault(),a=D.content,k.getRobot({msg:a}).then((e=>{let a=e.data.content||"";a=a.replace("{br}","</br>"),m.records.push({sender:0,content:e.data.content}),g((()=>{I()}))})),D.ct=(new Date).getTime(),m.records.push(cloneDeep(D)),D.content="",g((()=>{I()}))}function I(){g((()=>{let e=y.value.scrollHeight;y.value.scrollTo({top:e,behavior:"smooth"})}))}return(e,a)=>{const t=o("d-dialog");return s(),l(t,{width:"770px",height:"500px"},{default:n((()=>[r("div",_,[r("aside",w,[r("h2",null,c(d(m).title),1),r("ul",H,[(s(!0),i(b,null,u(d(m).tabsData,(a=>(s(),i("li",{onClick:t=>e.tabHandle(a),class:p([{active:e.queryForm.source===a.source},"robot-aside-item d-elip"]),key:a.type},c(a.name),11,T)))),128))])]),r("div",j,[C,r("ul",{class:"robot-chat-body d-cell",ref_key:"refChatBody",ref:y},[(s(!0),i(b,null,u(d(m).records,(e=>(s(),i("li",{class:p(`sender-${e.sender}`),key:e},[R,r("div",null,[r("div",{class:"robot-chat-bubble",innerHTML:e.content},null,8,V)])],2)))),128))],512),r("div",B,[h(d(x),{type:"textarea",onKeyup:v(f(E,["prevent"]),["enter"]),modelValue:d(D).content,"onUpdate:modelValue":a[0]||(a[0]=e=>d(D).content=e),placeholder:"输入框"},null,8,["onKeyup","modelValue"])])])])])),_:1})}}}),[["__scopeId","data-v-52561994"]]);export{I as default};
