var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;import{af as r,k as s,Q as u,aY as d,bq as m,bC as p,al as v,c3 as c,a4 as g,bz as f,r as b,v as y,bB as V,aG as h,ay as w,W as S,a2 as x,b1 as k,X as B,D as L,A as D,C as E,ac as P,cT as I,cU as M,n as C,d$ as T,cX as z,by as F,cL as N,cM as j,aA as W,as as X,ao as Y,bS as A,cP as O,U,V as K,I as _,aE as $,cc as R,cq as q,ak as G}from"./save_config.7e387697.js";import{E as H}from"./el-input-number.fd2641fb.js";import"./el-input.07836306.js";/* empty css                  */import{E as Q}from"./index2.69c4a5bb.js";import{i as J}from"./validator2.fec6f1ba.js";const{left:Z,down:ee,right:ae,up:te,home:le,end:ne,pageUp:ie,pageDown:oe}=c,re=(e,a,t)=>{const{disabled:l,min:n,max:i,step:o,showTooltip:c,precision:g,sliderSize:f,formatTooltip:b,emitChange:y,resetSize:V,updateDragging:h}=r("SliderProvider"),{tooltip:w,tooltipVisible:S,formatValue:x,displayTooltip:k,hideTooltip:B}=((e,a,t)=>{const l=s(),n=s(!1),i=u((()=>a.value instanceof Function)),o=u((()=>i.value&&a.value(e.modelValue)||e.modelValue)),r=m((()=>{t.value&&(n.value=!0)}),50),d=m((()=>{t.value&&(n.value=!1)}),50);return{tooltip:l,tooltipVisible:n,formatValue:o,displayTooltip:r,hideTooltip:d}})(e,b,c),L=s(),D=u((()=>(e.modelValue-n.value)/(i.value-n.value)*100+"%")),E=u((()=>e.vertical?{bottom:D.value}:{left:D.value})),P=e=>{l.value||(a.newPosition=Number.parseFloat(D.value)+e/(i.value-n.value)*100,z(a.newPosition),y())},I=e=>{let a,t;return e.type.startsWith("touch")?(t=e.touches[0].clientY,a=e.touches[0].clientX):(t=e.clientY,a=e.clientX),{clientX:a,clientY:t}},M=t=>{a.dragging=!0,a.isClick=!0;const{clientX:l,clientY:n}=I(t);e.vertical?a.startY=n:a.startX=l,a.startPosition=Number.parseFloat(D.value),a.newPosition=a.startPosition},C=t=>{if(a.dragging){let l;a.isClick=!1,k(),V();const{clientX:n,clientY:i}=I(t);e.vertical?(a.currentY=i,l=(a.startY-a.currentY)/f.value*100):(a.currentX=n,l=(a.currentX-a.startX)/f.value*100),a.newPosition=a.startPosition+l,z(a.newPosition)}},T=()=>{a.dragging&&(setTimeout((()=>{a.dragging=!1,a.hovering||B(),a.isClick||(z(a.newPosition),y())}),0),window.removeEventListener("mousemove",C),window.removeEventListener("touchmove",C),window.removeEventListener("mouseup",T),window.removeEventListener("touchend",T),window.removeEventListener("contextmenu",T))},z=async l=>{if(null===l||Number.isNaN(+l))return;l<0?l=0:l>100&&(l=100);const r=100/((i.value-n.value)/o.value);let s=Math.round(l/r)*r*(i.value-n.value)*.01+n.value;s=Number.parseFloat(s.toFixed(g.value)),t(p,s),a.dragging||e.modelValue===a.oldValue||(a.oldValue=e.modelValue),await v(),a.dragging&&k(),w.value.updatePopper()};return d((()=>a.dragging),(e=>{h(e)})),{button:L,tooltip:w,tooltipVisible:S,showTooltip:c,wrapperStyle:E,formatValue:x,handleMouseEnter:()=>{a.hovering=!0,k()},handleMouseLeave:()=>{a.hovering=!1,a.dragging||B()},onButtonDown:e=>{l.value||(e.preventDefault(),M(e),window.addEventListener("mousemove",C),window.addEventListener("touchmove",C),window.addEventListener("mouseup",T),window.addEventListener("touchend",T),window.addEventListener("contextmenu",T),L.value.focus())},onKeyDown:e=>{let a=!0;[Z,ee].includes(e.key)?P(-o.value):[ae,te].includes(e.key)?P(o.value):e.key===le?l.value||(z(0),y()):e.key===ne?l.value||(z(100),y()):e.key===oe?P(4*-o.value):e.key===ie?P(4*o.value):a=!1,a&&e.preventDefault()},setPosition:z}};var se=V(g({name:"ElSliderButton",components:{ElTooltip:Q},props:{modelValue:{type:Number,default:0},vertical:{type:Boolean,default:!1},tooltipClass:{type:String,default:""}},emits:[p],setup(e,{emit:a}){const t=f("slider"),l=b({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:e.modelValue}),{button:n,tooltip:i,showTooltip:o,tooltipVisible:r,wrapperStyle:s,formatValue:u,handleMouseEnter:d,handleMouseLeave:m,onButtonDown:p,onKeyDown:v,setPosition:c}=re(e,l,a),{hovering:g,dragging:V}=y(l);return{ns:t,button:n,tooltip:i,tooltipVisible:r,showTooltip:o,wrapperStyle:s,formatValue:u,handleMouseEnter:d,handleMouseLeave:m,onButtonDown:p,onKeyDown:v,setPosition:c,hovering:g,dragging:V}}}),[["render",function(e,a,t,l,n,i){const o=h("el-tooltip");return w(),S("div",{ref:"button",class:D([e.ns.e("button-wrapper"),{hover:e.hovering,dragging:e.dragging}]),style:E(e.wrapperStyle),tabindex:"0",onMouseenter:a[1]||(a[1]=(...a)=>e.handleMouseEnter&&e.handleMouseEnter(...a)),onMouseleave:a[2]||(a[2]=(...a)=>e.handleMouseLeave&&e.handleMouseLeave(...a)),onMousedown:a[3]||(a[3]=(...a)=>e.onButtonDown&&e.onButtonDown(...a)),onTouchstart:a[4]||(a[4]=(...a)=>e.onButtonDown&&e.onButtonDown(...a)),onFocus:a[5]||(a[5]=(...a)=>e.handleMouseEnter&&e.handleMouseEnter(...a)),onBlur:a[6]||(a[6]=(...a)=>e.handleMouseLeave&&e.handleMouseLeave(...a)),onKeydown:a[7]||(a[7]=(...a)=>e.onKeyDown&&e.onKeyDown(...a))},[x(o,{ref:"tooltip",visible:e.tooltipVisible,"onUpdate:visible":a[0]||(a[0]=a=>e.tooltipVisible=a),placement:"top","stop-popper-mouse-event":!1,"popper-class":e.tooltipClass,disabled:!e.showTooltip,persistent:""},{content:k((()=>[B("span",null,L(e.formatValue),1)])),default:k((()=>[B("div",{class:D([e.ns.e("button"),{hover:e.hovering,dragging:e.dragging}])},null,2)])),_:1},8,["visible","popper-class","disabled"])],38)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const ue=g({name:"ElMarker",props:{mark:{type:[String,Object],default:()=>{}}},setup:e=>({ns:f("slider"),label:u((()=>"string"==typeof e.mark?e.mark:e.mark.label))}),render(){var e;return P("div",{class:this.ns.e("marks-text"),style:null==(e=this.mark)?void 0:e.style},this.label)}});const de=(e,a,t)=>{const l=r(I,{}),n=r(M,{}),i=C(),o=s(),d=s(),m={firstButton:o,secondButton:d},c=u((()=>e.disabled||l.disabled||!1)),g=u((()=>Math.min(a.firstValue,a.secondValue))),f=u((()=>Math.max(a.firstValue,a.secondValue))),b=u((()=>e.range?100*(f.value-g.value)/(e.max-e.min)+"%":100*(a.firstValue-e.min)/(e.max-e.min)+"%")),y=u((()=>e.range?100*(g.value-e.min)/(e.max-e.min)+"%":"0%")),V=u((()=>e.vertical?{height:e.height}:{})),h=u((()=>e.vertical?{height:b.value,bottom:y.value}:{width:b.value,left:y.value})),w=()=>{i.value&&(a.sliderSize=i.value["client"+(e.vertical?"Height":"Width")])},S=t=>{const l=(t=>{const l=e.min+t*(e.max-e.min)/100;if(!e.range)return o;let n;return n=Math.abs(g.value-l)<Math.abs(f.value-l)?a.firstValue<a.secondValue?"firstButton":"secondButton":a.firstValue>a.secondValue?"firstButton":"secondButton",m[n]})(t);return l.value.setPosition(t),l},x=e=>{t(p,e),t(T,e)},k=async()=>{await v(),t(z,e.range?[g.value,f.value]:e.modelValue)},B=t=>{var l,n,o,r,s,u;if(c.value||a.dragging)return;w();let d=0;if(e.vertical){const e=null!=(o=null==(n=null==(l=t.touches)?void 0:l.item(0))?void 0:n.clientY)?o:t.clientY;d=(i.value.getBoundingClientRect().bottom-e)/a.sliderSize*100}else{d=((null!=(u=null==(s=null==(r=t.touches)?void 0:r.item(0))?void 0:s.clientX)?u:t.clientX)-i.value.getBoundingClientRect().left)/a.sliderSize*100}return d<0||d>100?void 0:S(d)};return{elFormItem:n,slider:i,firstButton:o,secondButton:d,sliderDisabled:c,minValue:g,maxValue:f,runwayStyle:V,barStyle:h,resetSize:w,setPosition:S,emitChange:k,onSliderWrapperPrevent:e=>{var a,t;((null==(a=m.firstButton.value)?void 0:a.dragging)||(null==(t=m.secondButton.value)?void 0:t.dragging))&&e.preventDefault()},onSliderClick:e=>{B(e)&&k()},onSliderDown:async e=>{const a=B(e);a&&(await v(),a.value.onButtonDown(e))},setFirstValue:t=>{a.firstValue=t,x(e.range?[g.value,f.value]:t)},setSecondValue:t=>{a.secondValue=t,e.range&&x([g.value,f.value])}}},me=g({name:"ElSlider",components:{ElInputNumber:H,SliderButton:se,SliderMarker:V(ue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/marker.vue"]])},props:{modelValue:{type:[Number,Array],default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:{type:Boolean,default:!1},showInputControls:{type:Boolean,default:!0},size:{type:String,validator:J},inputSize:{type:String,validator:J},showStops:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Function,default:void 0},disabled:{type:Boolean,default:!1},range:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},height:{type:String,default:""},debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Function,default:void 0},tooltipClass:{type:String,default:void 0},marks:Object},emits:[p,z,T],setup(e,{emit:r}){const s=f("slider"),{t:d}=F(),m=b({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:p,slider:v,firstButton:c,secondButton:g,sliderDisabled:V,minValue:h,maxValue:w,runwayStyle:S,barStyle:x,resetSize:k,emitChange:B,onSliderWrapperPrevent:L,onSliderClick:D,onSliderDown:E,setFirstValue:P,setSecondValue:I}=de(e,m,r),{stops:M,getStopStyle:C}=((e,a,t,l)=>({stops:u((()=>{if(!e.showStops||e.min>e.max)return[];if(0===e.step)return[];const n=(e.max-e.min)/e.step,i=100*e.step/(e.max-e.min),o=Array.from({length:n-1}).map(((e,a)=>(a+1)*i));return e.range?o.filter((a=>a<100*(t.value-e.min)/(e.max-e.min)||a>100*(l.value-e.min)/(e.max-e.min))):o.filter((t=>t>100*(a.firstValue-e.min)/(e.max-e.min)))})),getStopStyle:a=>e.vertical?{bottom:`${a}%`}:{left:`${a}%`}}))(e,m,h,w),{inputId:T,isLabeledByFormItem:z}=N(e,{formItemContext:p}),X=j(),Y=u((()=>e.inputSize||X.value)),A=u((()=>e.label||d("el.slider.defaultLabel",{min:e.min,max:e.max}))),O=u((()=>e.range?e.rangeStartLabel||d("el.slider.defaultRangeStartLabel"):A.value)),U=u((()=>e.formatValueText?e.formatValueText(H.value):`${H.value}`)),K=u((()=>e.rangeEndLabel||d("el.slider.defaultRangeEndLabel"))),_=u((()=>e.formatValueText?e.formatValueText(Q.value):`${Q.value}`)),$=u((()=>[s.b(),s.m(X.value),s.is("vertical",e.vertical),{[s.m("with-input")]:e.showInput}])),R=(e=>u((()=>e.marks?Object.keys(e.marks).map(parseFloat).sort(((e,a)=>e-a)).filter((a=>a<=e.max&&a>=e.min)).map((a=>({point:a,position:100*(a-e.min)/(e.max-e.min),mark:e.marks[a]}))):[])))(e);pe(e,m,h,w,r,p);const q=u((()=>{const a=[e.min,e.max,e.step].map((e=>{const a=`${e}`.split(".")[1];return a?a.length:0}));return Math.max.apply(null,a)})),{sliderWrapper:G}=ve(e,m,k),{firstValue:H,secondValue:Q,oldValue:J,dragging:Z,sliderSize:ee}=y(m);var ae;return W("SliderProvider",(ae=((e,a)=>{for(var t in a||(a={}))n.call(a,t)&&o(e,t,a[t]);if(l)for(var t of l(a))i.call(a,t)&&o(e,t,a[t]);return e})({},y(e)),a(ae,t({sliderSize:ee,disabled:V,precision:q,emitChange:B,resetSize:k,updateDragging:e=>{m.dragging=e}})))),{ns:s,firstValue:H,secondValue:Q,oldValue:J,dragging:Z,sliderSize:ee,inputId:T,isLabeledByFormItem:z,elFormItem:p,slider:v,groupLabel:A,firstButton:c,firstButtonLabel:O,firstValueText:U,secondButton:g,secondButtonLabel:K,secondValueText:_,sliderDisabled:V,runwayStyle:S,barStyle:x,emitChange:B,onSliderClick:D,onSliderWrapperPrevent:L,onSliderDown:E,getStopStyle:C,setFirstValue:P,setSecondValue:I,stops:M,markList:R,sliderWrapper:G,sliderWrapperSize:X,sliderInputSize:Y,sliderKls:$}}}),pe=(e,a,t,l,n,i)=>{const o=e=>{n(p,e),n(T,e)},r=()=>e.range?![t.value,l.value].every(((e,t)=>e===a.oldValue[t])):e.modelValue!==a.oldValue,s=()=>{var t,l;if(e.min>e.max)return void A("Slider","min should not be greater than max.");const n=e.modelValue;e.range&&Array.isArray(n)?n[1]<e.min?o([e.min,e.min]):n[0]>e.max?o([e.max,e.max]):n[0]<e.min?o([e.min,n[1]]):n[1]>e.max?o([n[0],e.max]):(a.firstValue=n[0],a.secondValue=n[1],r()&&(null==(t=i.validate)||t.call(i,"change").catch((e=>O())),a.oldValue=n.slice())):e.range||"number"!=typeof n||Number.isNaN(n)||(n<e.min?o(e.min):n>e.max?o(e.max):(a.firstValue=n,r()&&(null==(l=i.validate)||l.call(i,"change").catch((e=>O())),a.oldValue=n)))};s(),d((()=>a.dragging),(e=>{e||s()})),d((()=>e.modelValue),((e,t)=>{a.dragging||Array.isArray(e)&&Array.isArray(t)&&e.every(((e,a)=>e===t[a]))&&a.firstValue===e[0]&&a.secondValue===e[1]||s()}),{deep:!0}),d((()=>[e.min,e.max]),(()=>{s()}))},ve=(e,a,t)=>{const l=s();return X((async()=>{e.range?(Array.isArray(e.modelValue)?(a.firstValue=Math.max(e.min,e.modelValue[0]),a.secondValue=Math.min(e.max,e.modelValue[1])):(a.firstValue=e.min,a.secondValue=e.max),a.oldValue=[a.firstValue,a.secondValue]):("number"!=typeof e.modelValue||Number.isNaN(e.modelValue)?a.firstValue=e.min:a.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),a.oldValue=a.firstValue),window.addEventListener("resize",t),await v(),t()})),Y((()=>{window.removeEventListener("resize",t)})),{sliderWrapper:l}},ce=["id","role","aria-label","aria-labelledby"],ge={key:1};var fe=V(me,[["render",function(e,a,t,l,n,i){const o=h("slider-button"),r=h("slider-marker"),s=h("el-input-number");return w(),S("div",{id:e.range?e.inputId:void 0,ref:"sliderWrapper",class:D(e.sliderKls),role:e.range?"group":void 0,"aria-label":e.range&&!e.isLabeledByFormItem?e.groupLabel:void 0,"aria-labelledby":e.range&&e.isLabeledByFormItem?e.elFormItem.labelId:void 0,onTouchstart:a[2]||(a[2]=(...a)=>e.onSliderWrapperPrevent&&e.onSliderWrapperPrevent(...a)),onTouchmove:a[3]||(a[3]=(...a)=>e.onSliderWrapperPrevent&&e.onSliderWrapperPrevent(...a))},[B("div",{ref:"slider",class:D([e.ns.e("runway"),{"show-input":e.showInput&&!e.range},e.ns.is("disabled",e.sliderDisabled)]),style:E(e.runwayStyle),onMousedown:a[0]||(a[0]=(...a)=>e.onSliderDown&&e.onSliderDown(...a)),onTouchstart:a[1]||(a[1]=(...a)=>e.onSliderDown&&e.onSliderDown(...a))},[B("div",{class:D(e.ns.e("bar")),style:E(e.barStyle)},null,6),x(o,{id:e.range?void 0:e.inputId,ref:"firstButton","model-value":e.firstValue,vertical:e.vertical,"tooltip-class":e.tooltipClass,role:"slider","aria-label":e.range||!e.isLabeledByFormItem?e.firstButtonLabel:void 0,"aria-labelledby":!e.range&&e.isLabeledByFormItem?e.elFormItem.labelId:void 0,"aria-valuemin":e.min,"aria-valuemax":e.range?e.secondValue:e.max,"aria-valuenow":e.firstValue,"aria-valuetext":e.firstValueText,"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":e.sliderDisabled,"onUpdate:modelValue":e.setFirstValue},null,8,["id","model-value","vertical","tooltip-class","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),e.range?(w(),U(o,{key:0,ref:"secondButton","model-value":e.secondValue,vertical:e.vertical,"tooltip-class":e.tooltipClass,role:"slider","aria-label":e.secondButtonLabel,"aria-valuemin":e.firstValue,"aria-valuemax":e.max,"aria-valuenow":e.secondValue,"aria-valuetext":e.secondValueText,"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":e.sliderDisabled,"onUpdate:modelValue":e.setSecondValue},null,8,["model-value","vertical","tooltip-class","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):K("v-if",!0),e.showStops?(w(),S("div",ge,[(w(!0),S(_,null,$(e.stops,((a,t)=>(w(),S("div",{key:t,class:D(e.ns.e("stop")),style:E(e.getStopStyle(a))},null,6)))),128))])):K("v-if",!0),e.markList.length>0?(w(),S(_,{key:2},[B("div",null,[(w(!0),S(_,null,$(e.markList,((a,t)=>(w(),S("div",{key:t,style:E(e.getStopStyle(a.position)),class:D([e.ns.e("stop"),e.ns.e("marks-stop")])},null,6)))),128))]),B("div",{class:D(e.ns.e("marks"))},[(w(!0),S(_,null,$(e.markList,((a,t)=>(w(),U(r,{key:t,mark:a.mark,style:E(e.getStopStyle(a.position))},null,8,["mark","style"])))),128))],2)],64)):K("v-if",!0)],38),e.showInput&&!e.range?(w(),U(s,{key:0,ref:"input","model-value":e.firstValue,class:D(e.ns.e("input")),step:e.step,disabled:e.sliderDisabled,controls:e.showInputControls,min:e.min,max:e.max,debounce:e.debounce,size:e.sliderInputSize,"onUpdate:modelValue":e.setFirstValue,onChange:e.emitChange},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):K("v-if",!0)],42,ce)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/index.vue"]]);fe.install=e=>{e.component(fe.name,fe)};const be=fe;const ye=s(null),Ve={name:"dSlider",components:{ElSlider:be},props:{modelValue:{required:!0},title:String,unit:{default:"px"},async:{type:Boolean,default:!1},value:[String,Number]},setup:(e,a)=>({handleInput:t=>{a.emit("update:modelValue",t),e.async&&q("baseConfig")},sliderRef:ye})},he={class:"d-flex-between d-slider setting-li"},we={key:0,class:"d-slider-title"},Se={class:"d-slider-value"};var xe=R(Ve,[["render",function(e,a,t,l,n,i){const o=h("el-slider");return w(),S("div",he,[t.title?(w(),S("span",we,L(t.title),1)):K("",!0),x(o,G({"show-tooltip":!1,class:"d-cell",ref:"sliderRef"},e.$attrs,{size:"small","data-content":"12","model-value":t.modelValue,"onUpdate:modelValue":l.handleInput}),null,16,["model-value","onUpdate:modelValue"]),B("span",Se,L(~~t.value||t.modelValue)+L(t.unit),1)])}]]);export{xe as D};
