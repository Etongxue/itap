import{cc as e,c6 as a,k as s,r as l,dz as t,bx as i,ci as c,ca as d,ay as o,U as n,b1 as u,X as r,a2 as h,W as m,aE as f,x as p,D as v,I as y,ak as g,aB as b,az as k,a1 as x}from"./save_config.7e387697.js";import{E as V}from"./el-input.07836306.js";import{E}from"./el-overlay.e22515de.js";import{E as L,a as w}from"./el-checkbox-group.263c9314.js";import"./main.5f87c81f.js";import"./validator2.fec6f1ba.js";const _=e=>(b("data-v-5e1b3114"),e=e(),k(),e),j=_((()=>r("div",{class:"d-main"},[x(" 添加搜索引擎 "),r("p",{class:"mt5 f12 d-sub"},"最少添加1种，最多添加8种")],-1))),I={class:"s-e-main d-auto-y"},U={class:"serarch-list-item"},z={class:"d-elip d-flex-y"},C=["src"],$={style:{"line-height":"16px"}},B={class:"f13"},D={class:"f12 d-block d-sub d-elip"},N=_((()=>r("h3",{class:"d-main f14 mt10",style:{"line-height":"20px"}},"自定义搜索引擎",-1))),O={class:"serarch-list-item"},S={class:"d-elip d-flex-y"},W=["src"],X={style:{"line-height":"16px"},class:"wfull"};var q=e({setup(e){var b;const k=a(),x=s(k.value.searchEngine.map((e=>e.key))),_=s(""),q=l({searchList:[],customSearchList:[],activeName:"default",addVisible:!1});l({href:"",title:""}),_.value=(null==(b=k.value.searchEngine.find((e=>"custom"==e.key)))?void 0:b.href)||"";const A=e=>{if(x.value.includes(e.key))k.value.searchEngine.push(e);else{let a=k.value.searchEngine.findIndex((a=>e.key===a.key));k.value.searchEngine.splice(a,1)}};return async function(){let e=await t.getItem("searchList");if(e&&e.exp){q.searchList=e.data||[];let a=i().valueOf();if(e.exp>a)return}c.searchEngienList().then((e=>{let a=e.data||[];q.searchList=a,d.set("searchList",a,1728e5)}))}(),(e,a)=>(o(),n(p(E),g({"custom-class":"s-e-dialog","append-to-body":"","lock-scroll":!0,width:"740px",title:"添加搜索引擎","destroy-on-close":""},e.$attrs),{title:u((()=>[j])),default:u((()=>[r("ul",I,[h(p(w),{modelValue:x.value,"onUpdate:modelValue":a[2]||(a[2]=e=>x.value=e),min:1,max:8},{default:u((()=>[r("span",null,[(o(!0),m(y,null,f(p(q).searchList,(e=>(o(),m("li",{key:e.key},[r("div",U,[h(p(L),{onChange:a=>A(e),class:"wfull",label:e.key},{default:u((()=>[r("div",z,[r("img",{class:"search-icon",src:`https://files.codelife.cc/itab/search/${e.key}.svg`},null,8,C),r("div",$,[r("span",B,v(e.title),1),r("span",D,v(e.href),1)])])])),_:2},1032,["onChange","label"])])])))),128))]),N,r("li",null,[r("div",O,[h(p(L),{onChange:a[1]||(a[1]=e=>A({key:"custom",title:"自定义",href:_.value})),class:"wfull",label:"custom"},{default:u((()=>[r("div",S,[r("img",{class:"search-icon",src:"https://files.codelife.cc/itab/search/custom.svg"},null,8,W),r("div",X,[h(p(V),{class:"wfull",modelValue:_.value,"onUpdate:modelValue":a[0]||(a[0]=e=>_.value=e),placeholder:"请输入搜索地址",style:{"--el-input-bg-color":"transparent"},size:"small"},null,8,["modelValue"])])])])),_:1})])])])),_:1},8,["modelValue"])]),h(p(E),{"append-to-body":"","lock-scroll":!0,width:"740px",modelValue:p(q).addVisible,"onUpdate:modelValue":a[3]||(a[3]=e=>p(q).addVisible=e)},null,8,["modelValue"])])),_:1},16))}},[["__scopeId","data-v-5e1b3114"]]);export{q as default};
