var e=Object.defineProperty,s=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,r=(s,t,o)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[t]=o,l=(e,s)=>{for(var t in s||(s={}))n.call(s,t)&&r(e,t,s[t]);if(o)for(var t of o(s))a.call(s,t)&&r(e,t,s[t]);return e},u=(e,o)=>s(e,t(o));import{a4 as i,Q as p,bP as c,ay as d,W as m,aF as f,a2 as y,b1 as g,b3 as v,bn as b,x,X as C,A as h,D as j,b6 as w,bN as O,s as k,k as N,as as T,aY as _,bO as I,bM as S,U as B,V as M,aI as L,I as $,bp as z,C as E,bU as P,ai as D,bf as H}from"./todo.9d8ad3e1.js";import{m as U}from"./config-provider.31e0a14a.js";import{b as A,_ as F,w as q,d as R,E as Q,i as V,c as W}from"./index.88f3c51b.js";import{u as X}from"./index.6fb72867.js";import{m as Y}from"./typescript.72bf8adc.js";import{g as Z,T as G,j as J}from"./icon.b571cc89.js";import{E as K}from"./aria.66f3f71c.js";import{c as ee,d as se}from"./style.83568f4e.js";import{u as te}from"./index.172974c9.js";import"./index.90c48122.js";import"./isObject.44842e39.js";const oe=A({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),ne=["textContent"];const ae=q(F(i(u(l({},{name:"ElBadge"}),{props:oe,setup(e,{expose:s}){const t=e,o=X("badge"),n=p((()=>t.isDot?"":c(t.value)&&c(t.max)&&t.max<t.value?`${t.max}+`:`${t.value}`));return s({content:n}),(e,s)=>(d(),m("div",{class:h(x(o).b())},[f(e.$slots,"default"),y(w,{name:`${x(o).namespace.value}-zoom-in-center`,persisted:""},{default:g((()=>[v(C("sup",{class:h([x(o).e("content"),x(o).em("content",e.type),x(o).is("fixed",!!e.$slots.default),x(o).is("dot",e.isDot)]),textContent:j(x(n))},null,10,ne),[[b,!e.hidden&&(x(n)||e.isDot)]])])),_:1},8,["name"])],2))}})),[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]])),re=["success","info","warning","error"],le=Y({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:"",id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:O?document.body:void 0}),ue=A({customClass:{type:String,default:le.customClass},center:{type:Boolean,default:le.center},dangerouslyUseHTMLString:{type:Boolean,default:le.dangerouslyUseHTMLString},duration:{type:Number,default:le.duration},icon:{type:Z,default:le.icon},id:{type:String,default:le.id},message:{type:R([String,Object,Function]),default:le.message},onClose:{type:R(Function),required:!1},showClose:{type:Boolean,default:le.showClose},type:{type:String,values:re,default:le.type},offset:{type:Number,default:le.offset},zIndex:{type:Number,default:le.zIndex},grouping:{type:Boolean,default:le.grouping},repeatNum:{type:Number,default:le.repeatNum}}),ie={destroy:()=>!0},pe=k([]),ce=e=>{const{prev:s}=(e=>{const s=pe.findIndex((s=>s.id===e)),t=pe[s];let o;return s>0&&(o=pe[s-1]),{current:t,prev:o}})(e);return s?s.vm.exposeProxy.bottom:0},de=["id"],me=["innerHTML"];var fe=F(i(u(l({},{name:"ElMessage"}),{props:ue,emits:ie,setup(e,{expose:s}){const t=e,{Close:o}=J,n=X("message"),a=N(),r=N(!1),l=N(0);let u;const i=p((()=>t.type?"error"===t.type?"danger":t.type:"info")),c=p((()=>{const e=t.type;return{[n.bm("icon",e)]:e&&G[e]}})),O=p((()=>t.icon||G[t.type]||"")),k=p((()=>ce(t.id))),D=p((()=>t.offset+k.value)),H=p((()=>l.value+D.value)),U=p((()=>({top:`${D.value}px`,zIndex:t.zIndex})));function A(){0!==t.duration&&({stop:u}=P((()=>{q()}),t.duration))}function F(){null==u||u()}function q(){r.value=!1}return T((()=>{A(),r.value=!0})),_((()=>t.repeatNum),(()=>{F(),A()})),I(document,"keydown",(function({code:e}){e===K.esc&&q()})),S(a,(()=>{l.value=a.value.getBoundingClientRect().height})),s({visible:r,bottom:H,close:q}),(e,s)=>(d(),B(w,{name:x(n).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:s[0]||(s[0]=s=>e.$emit("destroy")),persisted:""},{default:g((()=>[v(C("div",{id:e.id,ref_key:"messageRef",ref:a,class:h([x(n).b(),{[x(n).m(e.type)]:e.type&&!e.icon},x(n).is("center",e.center),x(n).is("closable",e.showClose),e.customClass]),style:E(x(U)),role:"alert",onMouseenter:F,onMouseleave:A},[e.repeatNum>1?(d(),B(x(ae),{key:0,value:e.repeatNum,type:x(i),class:h(x(n).e("badge"))},null,8,["value","type","class"])):M("v-if",!0),x(O)?(d(),B(x(Q),{key:1,class:h([x(n).e("icon"),x(c)])},{default:g((()=>[(d(),B(L(x(O))))])),_:1},8,["class"])):M("v-if",!0),f(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(d(),m($,{key:1},[M(" Caution here, message could've been compromised, never use user's input as message "),C("p",{class:h(x(n).e("content")),innerHTML:e.message},null,10,me)],2112)):(d(),m("p",{key:0,class:h(x(n).e("content"))},j(e.message),3))])),e.showClose?(d(),B(x(Q),{key:2,class:h(x(n).e("closeBtn")),onClick:z(q,["stop"])},{default:g((()=>[y(x(o))])),_:1},8,["class","onClick"])):M("v-if",!0)],46,de),[[b,r.value]])])),_:3},8,["name","onBeforeLeave"]))}})),[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let ye=1;const ge=e=>{const s=!e||ee(e)||D(e)||se(e)?{message:e}:e,t=l(l({},le),s);if(ee(t.appendTo)){let e=document.querySelector(t.appendTo);V(e)||(e=document.body),t.appendTo=e}return t},ve=(e,s)=>{var t=e,{appendTo:r}=t,i=((e,s)=>{var t={};for(var r in e)n.call(e,r)&&s.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&o)for(var r of o(e))s.indexOf(r)<0&&a.call(e,r)&&(t[r]=e[r]);return t})(t,["appendTo"]);const{nextZIndex:p}=te(),c="message_"+ye++,d=i.onClose,m=document.createElement("div"),f=u(l({},i),{zIndex:p()+i.zIndex,id:c,onClose:()=>{null==d||d(),(e=>{const s=pe.indexOf(e);if(-1===s)return;pe.splice(s,1);const{handler:t}=e;t.close()})(x)},onDestroy:()=>{H(null,m)}}),g=y(fe,f,se(f.message)||D(f.message)?{default:f.message}:null);g.appContext=s||be._context,H(g,m),r.appendChild(m.firstElementChild);const v=g.component,b={close:()=>{v.exposeProxy.visible=!1}},x={id:c,vnode:g,vm:v,handler:b,props:g.component.props};return x},be=(e={},s)=>{if(!O)return{close:()=>{}};if(c(U.max)&&pe.length>=U.max)return{close:()=>{}};const t=ge(e);if(t.grouping&&pe.length){const e=pe.find((({vnode:e})=>{var s;return(null==(s=e.props)?void 0:s.message)===t.message}));if(e)return e.props.repeatNum+=1,e.props.type=t.type,e.handler}const o=ve(t,s);return pe.push(o),o.handler};re.forEach((e=>{be[e]=(s={},t)=>{const o=ge(s);return be(u(l({},o),{type:e}),t)}})),be.closeAll=function(e){for(const s of pe)e&&e!==s.props.type||s.handler.close()},be._context=null;const xe=W(be,"$message");export{xe as ElMessage,xe as default,le as messageDefaults,ie as messageEmits,ue as messageProps,re as messageTypes};
