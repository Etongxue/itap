var e=Object.defineProperty,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,t=(a,i,l)=>i in a?e(a,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[i]=l;import{a4 as n,ay as o,U as s,a2 as r,cc as d,dr as c,cm as p,c6 as u,r as m,k as v,Q as f,as as b,cs as g,bq as h,aY as V,al as x,aw as w,aG as j,x as y,W as k,b1 as D,V as _,X as z,D as C,I as H,aE as M,bp as $,A as O,f as T,bD as E,a1 as I,cG as G,cb as Y}from"./save_config.7e387697.js";import{u as A,i as P,o as R,$ as S,m as U,a as q,b as L,s as W,D as B,P as N,S as Q,c as X,d as F}from"./main.5f87c81f.js";import{E as J}from"./el-input.07836306.js";import"./el-overlay.e22515de.js";/* empty css                   *//* empty css                  */import K from"./sponsor.f41ef2a3.js";import{c as Z}from"./create_login.823c0dbe.js";import{E as ee}from"./index2.d28dd348.js";import{E as ae}from"./index2.948aebda.js";import"./el-form-item.9774cccc.js";import"./_baseClone.36822d61.js";import"./_baseIsEqual.840160ed.js";import"./isEqual.8b269055.js";import"./el-radio.2ecd3578.js";import"./index2.69c4a5bb.js";import"./event2.b0442ad9.js";import"./index2.ebb82d9e.js";import"./validator2.fec6f1ba.js";var ie=n({name:"HotWater"});const le={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},te=r("path",{fill:"currentColor",d:"M273.067 477.867h477.866V409.6H273.067v68.267zm0 68.266v51.2A187.733 187.733 0 0 0 460.8 785.067h102.4a187.733 187.733 0 0 0 187.733-187.734v-51.2H273.067zm-34.134-204.8h546.134a34.133 34.133 0 0 1 34.133 34.134v221.866a256 256 0 0 1-256 256H460.8a256 256 0 0 1-256-256V375.467a34.133 34.133 0 0 1 34.133-34.134zM512 34.133a34.133 34.133 0 0 1 34.133 34.134v170.666a34.133 34.133 0 0 1-68.266 0V68.267A34.133 34.133 0 0 1 512 34.133zM375.467 102.4a34.133 34.133 0 0 1 34.133 34.133v102.4a34.133 34.133 0 0 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.134-34.133zm273.066 0a34.133 34.133 0 0 1 34.134 34.133v102.4a34.133 34.133 0 1 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.133-34.133zM170.667 921.668h682.666a34.133 34.133 0 1 1 0 68.267H170.667a34.133 34.133 0 1 1 0-68.267z"},null,-1);ie.render=function(e,a,i,l,t,n){return o(),s("svg",le,[te])},ie.__file="packages/components/HotWater.vue";var ne=ie,oe=n({name:"Menu"});const se={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},re=r("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H608zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H608z"},null,-1);oe.render=function(e,a,i,l,t,n){return o(),s("svg",se,[re])},oe.__file="packages/components/Menu.vue";var de=oe;const ce={key:0,class:"app-buttons"},pe={class:"app-sidebar-body"},ue=["src"],me={key:0,class:"mt5 d-elip"},ve={class:"app-sidebar-group d-scrollbar-hide"},fe=["onContextmenu","onDragenter","onDragstart","onDrop","onClick"],be=["title","id"],ge={class:"d-elip app-group-item-title"},he={class:"app-group-icon"},Ve=["title","onClick"],xe={class:"mb5 mt5"},we={class:"mt5"};var je=d({setup(e){const n=c(),{t:s}=A(),d=p(),ie=u(),le=m({iconList:["home","xin","music","chat","office","entertainment","shop","app","code","learn","read","tool","zan","collect"],juanzhuVisible:!1,addVisible:!1,sideVisible:!1,contextmenuVisible:!1,contextmenuData:[{name:s("edit"),key:"edit",icon:"edit"},{name:s("remove"),key:"del",icon:"remove"}],dragData:null}),te=m({name:"",icon:"xin",children:[]}),oe=v(null),se=v(null),re=f((()=>ie.value.sidebar.placement||"left")),je=f((()=>P||ie.value.sidebar.autoHide)),ye=()=>{n.value.username?(F.visible=!0,F.active=1):Z("reg")};let ke=0,De=0,_e=v("add");function ze(){if("add"==_e.value)d.value.push({id:G("nav"),name:te.name,icon:te.icon,children:[]});else{let e=((e,n)=>{for(var o in n||(n={}))i.call(n,o)&&t(e,o,n[o]);if(a)for(var o of a(n))l.call(n,o)&&t(e,o,n[o]);return e})({},te);d.value.splice(De,1,e)}le.addVisible=!1,te.icon="xin",te.name="",te.children=[]}function Ce(e){le.contextmenuVisible=!1;let a=d.value[De];if("edit"==e.key)_e.value="edit",le.addVisible=!0,te.id=a.id,te.name=a.name,te.icon=a.icon,te.children=a.children,setTimeout((()=>{let e=se.value.popperRef.contentRef.style.transform;e=e.substring(e.indexOf("(")+1,e.indexOf(",")),se.value.popperRef.contentRef.style.transform=`translate(${e}, ${ke}px)`}));else if("del"==e.key){if(1==d.value[De].id)return void Y("此分组不能删除");ae.confirm("此操作将会删除分组下的所有内容, 是否继续?","Tips",{center:!0,type:"warning"}).then((()=>{d.value.splice(De,1)}))}}function He(){F.visible=!0,F.active=2}function Me(e){if(!1===ie.value.sidebar.mouseGroup)return;let a=d.value.findIndex((e=>e.id==U.value)),i=d.value.length-1;"up"==e?(a--,a<0&&(a=i)):(a++,a>i&&(a=0));let l=d.value[a].id;W(l),setTimeout((()=>{S(`#app-grid_${U.value}`).scrollTop=0}),100)}function $e(e){let a=-e.wheelDelta||-e.deltaY||40*e.detail,i=S(`#app-grid_${U.value}`),l=S(`#app-grid_${U.value} .app-grid`).clientHeight-i.clientHeight,t=i.scrollTop+a;if(i.scrollTo({top:t,behavior:"smooth"}),(-e.wheelDelta||-e.deltaY||e.detail)<0&&0==i.scrollTop)return void Me("up");let n=~~i.scrollTop;(-e.wheelDelta||-e.deltaY||e.detail)>0&&(n==l||n+1==l||n-1==l||l<0)&&Me("down")}function Oe(e){je&&(le.sideVisible=!0)}function Te(e){je&&(le.addVisible||le.contextmenuVisible||(le.sideVisible=!1))}function Ee(){le.addVisible=!1,Te()}return b((()=>{g()||(R(S("#app-main"),"mousewheel",h($e,200,{leading:!0,trailing:!1}),!1),R(S("#app-main"),"DOMMouseScroll",h($e,200,{leading:!0,trailing:!1}),!1))})),V(U,(e=>{x((()=>{!function(e){let a=S(`#app-grid_${e}`),i=S(`#app-grid_${e} .app-grid`);if(!a||!i)return;let l=i.clientHeight-a.clientHeight;a.addEventListener("mousewheel",(e=>{let i=-e.wheelDelta||-e.deltaY;if(g())if(i<0&&0==a.scrollTop)Me("up");else{let e=~~a.scrollTop;(e==l||e+1==l||e-1==l||l<0)&&Me("down")}else e.preventDefault()}))}(e)}))}),{immediate:!0}),R(document,"mousedown",(function(e){var a,i;S(".v-contextmenu").contains(e.target)||(null==(a=S(".app-group-popover"))?void 0:a.contains(e.target))||(null==(i=S("#app-sidebar"))?void 0:i.contains(e.target))||(le.addVisible=!1,Ee())})),w((()=>{q(S("#app-main"),"mousewheel",$e),q(S("#app-main"),"DOMMouseScroll",$e)})),(e,a)=>{const i=j("el-icon");return"widget"==y(ie).layout.view?(o(),k("div",{key:0,onMouseenter:Oe,onMouseleave:Te,class:O(["app-sidebar",[`is-${y(re)}`,{active:y(le).sideVisible},{"is-autoHide":y(je)}]]),id:"app-sidebar"},[y(P)?(o(),k("div",ce,[r(i,{onClick:Oe,icon:"icon-home",size:18},{default:D((()=>[r(y(de))])),_:1})])):_("",!0),z("div",pe,[z("div",{onClick:ye,class:"app-sidebar-avatar"},[z("img",{style:{width:"30px",height:"30px","border-radius":"50%","object-fit":"cover"},src:y(L)(y(n).avatar||"https://files.codelife.cc/itab.link/logo/avatar.png",40)},null,8,ue),y(n)._id?_("",!0):(o(),k("p",me,C(y(s)("login")),1))]),z("ul",ve,[(o(!0),k(H,null,M(y(d),((e,i)=>(o(),k("li",{onContextmenu:$((e=>function(e,a){le.contextmenuVisible=!0,oe.value.open(e),De=a,ke=e.clientY-110}(e,i)),["prevent","stop"]),draggable:!0,onDragover:a[0]||(a[0]=$((()=>{}),["prevent"])),onDragenter:a=>function(e,a){le.dragData||W(a.id)}(0,e),onDragstart:a=>function(e,a){le.dragData=a}(0,e),onDrop:a=>function(e,a){if(je&&(le.sideVisible=!0,le.dragData)){let e=d.value.findIndex((e=>e==le.dragData)),i=d.value.findIndex((e=>e==a));d.value[e]=d.value.splice(i,1,le.dragData)[0],le.dragData=null}}(0,e),class:O(["app-group-item hover",{active:e.id==y(U)}]),onClick:a=>y(W)(e.id),key:e},[z("div",{title:e.name,id:e.id},[r(B,{size:18,icon:`icon-${e.icon}`},null,8,["icon"]),z("p",ge,C(e.name),1)],8,be)],42,fe)))),128)),r(y(ee),{ref_key:"refGrouppopover",ref:se,"popper-class":"app-group-popover",placement:"left"==y(re)?"right":"left",title:`${"add"==y(_e)?y(s)("add"):y(s)("edit")}${y(s)("group")}`,width:260,trigger:"manual",visible:y(le).addVisible,"onUpdate:visible":a[3]||(a[3]=e=>y(le).addVisible=e)},{reference:D((()=>[z("li",{id:"appGroupAdd",class:"app-group-item hover",onClick:a[1]||(a[1]=e=>(y(le).addVisible=!y(le).addVisible,T(_e)?_e.value="add":_e="add"))},[r(i,{size:16},{default:D((()=>[r(y(N))])),_:1})])])),default:D((()=>[z("h5",null,C(y(s)("icon")),1),z("ul",he,[(o(!0),k(H,null,M(y(le).iconList,(e=>(o(),k("li",{title:e.name,class:O(["app-group-icon-item hover",{active:e==y(te).icon}]),key:e,onClick:a=>y(te).icon=e},[r(B,{class:"d-icon",icon:`icon-${e}`,size:16},null,8,["icon"])],10,Ve)))),128))]),z("h5",xe,C(y(s)("name")),1),r(y(J),{class:"app-group-input",size:"default",maxlength:"12",modelValue:y(te).name,"onUpdate:modelValue":a[2]||(a[2]=e=>y(te).name=e),placeholder:y(s)("name")},null,8,["modelValue","placeholder"]),z("div",we,[r(y(E),{class:"mr10",type:"primary",size:"small",onClick:ze},{default:D((()=>[I(C(y(s)("save")),1)])),_:1}),r(y(E),{size:"small",onClick:Ee},{default:D((()=>[I(C(y(s)("cancel")),1)])),_:1})])])),_:1},8,["placement","title","visible"])]),z("div",{class:"d-flex-center mb5 d-pointer",onClick:a[4]||(a[4]=e=>y(le).juanzhuVisible=!0)},[r(i,{size:20,title:"支持一下"},{default:D((()=>[r(y(ne))])),_:1})]),r(K,{modelValue:y(le).juanzhuVisible,"onUpdate:modelValue":a[5]||(a[5]=e=>y(le).juanzhuVisible=e)},null,8,["modelValue"]),z("div",{id:"step2",class:"app-sidebar-setting d-flex-center",onClick:He},[z("p",null,[r(i,{class:"icon-setting",size:20},{default:D((()=>[r(y(Q))])),_:1})])])]),r(X,{uid:"homeNavGroup_81d8fg",onClick:Ce,data:y(le).contextmenuData,ref_key:"refContextmenu",ref:oe},null,8,["data"])],34)):_("",!0)}}},[["__scopeId","data-v-36874db7"]]);export{je as default};
