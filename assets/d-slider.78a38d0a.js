var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t,r=(e,a)=>{for(var l in a||(a={}))i.call(a,l)&&n(e,l,a[l]);if(t)for(var l of t(a))o.call(a,l)&&n(e,l,a[l]);return e},s=(e,t)=>a(e,l(t));/* empty css             */import{E as u}from"./el-input-number.ec6bea74.js";/* empty css                 *//* empty css                  */import{SAVE_CONFIG as d}from"./save_config.acf4dfbd.js";import{bP as m,k as v,as as p,bO as c,al as f,Q as g,n as b,af as y,aY as V,a4 as h,r as w,v as x,ay as S,W as k,a2 as B,b1 as C,X as j,D as P,x as E,A as z,f as D,C as L,ac as T,aA as I,U as M,V as N,I as F,aE as X,bu as Y,aG as O,ak as _}from"./todo.9d8ad3e1.js";import{b as A,d as U,_ as W,w as R}from"./index.88f3c51b.js";import{d as $,u as K}from"./index.90c48122.js";import{b as q,c as G}from"./style.83568f4e.js";import{U as H,I as Q,C as J,u as Z}from"./index.b2ab0f23.js";import{E as ee}from"./index.53173a12.js";import{u as ae}from"./index.6fb72867.js";import{E as le}from"./aria.66f3f71c.js";import{d as te}from"./debounce.86275fe6.js";import{a as ie,u as oe}from"./index.f979cd8a.js";import{t as ne,d as re}from"./scroll.d4cf4dfc.js";const se=Symbol("sliderContextKey"),ue=A({modelValue:{type:U([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:$,inputSize:$,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:U(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:U(Function),default:void 0},tooltipClass:{type:String,default:void 0},marks:{type:U(Object)}}),de=e=>m(e)||q(e)&&e.every(m),me={[H]:de,[Q]:de,[J]:de},ve=(e,a,l)=>{const{form:t,formItem:i}=ie(),o=b(),n=v(),r=v(),s={firstButton:n,secondButton:r},u=g((()=>e.disabled||(null==t?void 0:t.disabled)||!1)),d=g((()=>Math.min(a.firstValue,a.secondValue))),m=g((()=>Math.max(a.firstValue,a.secondValue))),p=g((()=>e.range?100*(m.value-d.value)/(e.max-e.min)+"%":100*(a.firstValue-e.min)/(e.max-e.min)+"%")),c=g((()=>e.range?100*(d.value-e.min)/(e.max-e.min)+"%":"0%")),y=g((()=>e.vertical?{height:e.height}:{})),V=g((()=>e.vertical?{height:p.value,bottom:c.value}:{width:p.value,left:c.value})),h=()=>{o.value&&(a.sliderSize=o.value["client"+(e.vertical?"Height":"Width")])},w=l=>{const t=(l=>{const t=e.min+l*(e.max-e.min)/100;if(!e.range)return n;let i;return i=Math.abs(d.value-t)<Math.abs(m.value-t)?a.firstValue<a.secondValue?"firstButton":"secondButton":a.firstValue>a.secondValue?"firstButton":"secondButton",s[i]})(l);return t.value.setPosition(l),t},x=e=>{l(H,e),l(Q,e)},S=async()=>{await f(),l(J,e.range?[d.value,m.value]:e.modelValue)},k=l=>{var t,i,n,r,s,d;if(u.value||a.dragging)return;h();let m=0;if(e.vertical){const e=null!=(n=null==(i=null==(t=l.touches)?void 0:t.item(0))?void 0:i.clientY)?n:l.clientY;m=(o.value.getBoundingClientRect().bottom-e)/a.sliderSize*100}else{m=((null!=(d=null==(s=null==(r=l.touches)?void 0:r.item(0))?void 0:s.clientX)?d:l.clientX)-o.value.getBoundingClientRect().left)/a.sliderSize*100}return m<0||m>100?void 0:w(m)};return{elFormItem:i,slider:o,firstButton:n,secondButton:r,sliderDisabled:u,minValue:d,maxValue:m,runwayStyle:y,barStyle:V,resetSize:h,setPosition:w,emitChange:S,onSliderWrapperPrevent:e=>{var a,l;((null==(a=s.firstButton.value)?void 0:a.dragging)||(null==(l=s.secondButton.value)?void 0:l.dragging))&&e.preventDefault()},onSliderClick:e=>{k(e)&&S()},onSliderDown:async e=>{const a=k(e);a&&(await f(),a.value.onButtonDown(e))},setFirstValue:l=>{a.firstValue=l,x(e.range?[d.value,m.value]:l)},setSecondValue:l=>{a.secondValue=l,e.range&&x([d.value,m.value])}}},{left:pe,down:ce,right:fe,up:ge,home:be,end:ye,pageUp:Ve,pageDown:he}=le,we=(e,a,l)=>{const{disabled:t,min:i,max:o,step:n,showTooltip:r,precision:s,sliderSize:u,formatTooltip:d,emitChange:m,resetSize:p,updateDragging:c}=y(se),{tooltip:b,tooltipVisible:h,formatValue:w,displayTooltip:x,hideTooltip:S}=((e,a,l)=>{const t=v(),i=v(!1),o=g((()=>a.value instanceof Function)),n=g((()=>o.value&&a.value(e.modelValue)||e.modelValue)),r=te((()=>{l.value&&(i.value=!0)}),50),s=te((()=>{l.value&&(i.value=!1)}),50);return{tooltip:t,tooltipVisible:i,formatValue:n,displayTooltip:r,hideTooltip:s}})(e,d,r),k=v(),B=g((()=>(e.modelValue-i.value)/(o.value-i.value)*100+"%")),C=g((()=>e.vertical?{bottom:B.value}:{left:B.value})),j=e=>{t.value||(a.newPosition=Number.parseFloat(B.value)+e/(o.value-i.value)*100,L(a.newPosition),m())},P=e=>{let a,l;return e.type.startsWith("touch")?(l=e.touches[0].clientY,a=e.touches[0].clientX):(l=e.clientY,a=e.clientX),{clientX:a,clientY:l}},E=l=>{a.dragging=!0,a.isClick=!0;const{clientX:t,clientY:i}=P(l);e.vertical?a.startY=i:a.startX=t,a.startPosition=Number.parseFloat(B.value),a.newPosition=a.startPosition},z=l=>{if(a.dragging){let t;a.isClick=!1,x(),p();const{clientX:i,clientY:o}=P(l);e.vertical?(a.currentY=o,t=(a.startY-a.currentY)/u.value*100):(a.currentX=i,t=(a.currentX-a.startX)/u.value*100),a.newPosition=a.startPosition+t,L(a.newPosition)}},D=()=>{a.dragging&&(setTimeout((()=>{a.dragging=!1,a.hovering||S(),a.isClick||(L(a.newPosition),m())}),0),window.removeEventListener("mousemove",z),window.removeEventListener("touchmove",z),window.removeEventListener("mouseup",D),window.removeEventListener("touchend",D),window.removeEventListener("contextmenu",D))},L=async t=>{if(null===t||Number.isNaN(+t))return;t<0?t=0:t>100&&(t=100);const r=100/((o.value-i.value)/n.value);let u=Math.round(t/r)*r*(o.value-i.value)*.01+i.value;u=Number.parseFloat(u.toFixed(s.value)),l(H,u),a.dragging||e.modelValue===a.oldValue||(a.oldValue=e.modelValue),await f(),a.dragging&&x(),b.value.updatePopper()};return V((()=>a.dragging),(e=>{c(e)})),{button:k,tooltip:b,tooltipVisible:h,showTooltip:r,wrapperStyle:C,formatValue:w,handleMouseEnter:()=>{a.hovering=!0,x()},handleMouseLeave:()=>{a.hovering=!1,a.dragging||S()},onButtonDown:e=>{t.value||(e.preventDefault(),E(e),window.addEventListener("mousemove",z),window.addEventListener("touchmove",z),window.addEventListener("mouseup",D),window.addEventListener("touchend",D),window.addEventListener("contextmenu",D),k.value.focus())},onKeyDown:e=>{let a=!0;[pe,ce].includes(e.key)?j(-n.value):[fe,ge].includes(e.key)?j(n.value):e.key===be?t.value||(L(0),m()):e.key===ye?t.value||(L(100),m()):e.key===he?j(4*-n.value):e.key===Ve?j(4*n.value):a=!1,a&&e.preventDefault()},setPosition:L}},xe=A({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String}),Se={[H]:e=>m(e)};var ke=W(h(s(r({},{name:"ElSliderButton"}),{props:xe,emits:Se,setup(e,{expose:a,emit:l}){const t=e,i=ae("slider"),o=w({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:t.modelValue}),{button:n,tooltip:r,showTooltip:s,tooltipVisible:u,wrapperStyle:d,formatValue:m,handleMouseEnter:v,handleMouseLeave:p,onButtonDown:c,onKeyDown:f,setPosition:g}=we(t,o,l),{hovering:b,dragging:y}=x(o);return a({onButtonDown:c,onKeyDown:f,setPosition:g,hovering:b,dragging:y}),(e,a)=>(S(),k("div",{ref_key:"button",ref:n,class:z([E(i).e("button-wrapper"),{hover:E(b),dragging:E(y)}]),style:L(E(d)),tabindex:"0",onMouseenter:a[1]||(a[1]=(...e)=>E(v)&&E(v)(...e)),onMouseleave:a[2]||(a[2]=(...e)=>E(p)&&E(p)(...e)),onMousedown:a[3]||(a[3]=(...e)=>E(c)&&E(c)(...e)),onTouchstart:a[4]||(a[4]=(...e)=>E(c)&&E(c)(...e)),onFocus:a[5]||(a[5]=(...e)=>E(v)&&E(v)(...e)),onBlur:a[6]||(a[6]=(...e)=>E(p)&&E(p)(...e)),onKeydown:a[7]||(a[7]=(...e)=>E(f)&&E(f)(...e))},[B(E(ee),{ref_key:"tooltip",ref:r,visible:E(u),"onUpdate:visible":a[0]||(a[0]=e=>D(u)?u.value=e:null),placement:"top","stop-popper-mouse-event":!1,"popper-class":e.tooltipClass,disabled:!E(s),persistent:""},{content:C((()=>[j("span",null,P(E(m)),1)])),default:C((()=>[j("div",{class:z([E(i).e("button"),{hover:E(b),dragging:E(y)}])},null,2)])),_:1},8,["visible","popper-class","disabled"])],38))}})),[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);var Be=h({name:"ElSliderMarker",props:A({mark:{type:U([String,Object]),default:void 0}}),setup(e){const a=ae("slider"),l=g((()=>G(e.mark)?e.mark:e.mark.label)),t=g((()=>G(e.mark)?void 0:e.mark.style));return()=>T("div",{class:a.e("marks-text"),style:t},l.value)}});const Ce=["id","role","aria-label","aria-labelledby"],je={key:1};const Pe=R(W(h(s(r({},{name:"ElSlider"}),{props:ue,emits:me,setup(e,{expose:a,emit:l}){const t=e,i=ae("slider"),{t:o}=Z(),n=w({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:d,slider:m,firstButton:b,secondButton:y,sliderDisabled:h,minValue:C,maxValue:P,runwayStyle:D,barStyle:T,resetSize:Y,emitChange:O,onSliderWrapperPrevent:_,onSliderClick:A,onSliderDown:U,setFirstValue:W,setSecondValue:R}=ve(t,n,l),{stops:$,getStopStyle:q}=((e,a,l,t)=>({stops:g((()=>{if(!e.showStops||e.min>e.max)return[];if(0===e.step)return[];const i=(e.max-e.min)/e.step,o=100*e.step/(e.max-e.min),n=Array.from({length:i-1}).map(((e,a)=>(a+1)*o));return e.range?n.filter((a=>a<100*(l.value-e.min)/(e.max-e.min)||a>100*(t.value-e.min)/(e.max-e.min))):n.filter((l=>l>100*(a.firstValue-e.min)/(e.max-e.min)))})),getStopStyle:a=>e.vertical?{bottom:`${a}%`}:{left:`${a}%`}}))(t,n,C,P),{inputId:G,isLabeledByFormItem:J}=oe(t,{formItemContext:d}),ee=K(),le=g((()=>t.inputSize||ee.value)),te=g((()=>t.label||o("el.slider.defaultLabel",{min:t.min,max:t.max}))),ie=g((()=>t.range?t.rangeStartLabel||o("el.slider.defaultRangeStartLabel"):te.value)),ue=g((()=>t.formatValueText?t.formatValueText(be.value):`${be.value}`)),de=g((()=>t.rangeEndLabel||o("el.slider.defaultRangeEndLabel"))),me=g((()=>t.formatValueText?t.formatValueText(ye.value):`${ye.value}`)),pe=g((()=>[i.b(),i.m(ee.value),i.is("vertical",t.vertical),{[i.m("with-input")]:t.showInput}])),ce=(e=>g((()=>e.marks?Object.keys(e.marks).map(parseFloat).sort(((e,a)=>e-a)).filter((a=>a<=e.max&&a>=e.min)).map((a=>({point:a,position:100*(a-e.min)/(e.max-e.min),mark:e.marks[a]}))):[])))(t);((e,a,l,t,i,o)=>{const n=e=>{i(H,e),i(Q,e)},r=()=>e.range?![l.value,t.value].every(((e,l)=>e===a.oldValue[l])):e.modelValue!==a.oldValue,s=()=>{var l,t;if(e.min>e.max)return void ne("Slider","min should not be greater than max.");const i=e.modelValue;e.range&&Array.isArray(i)?i[1]<e.min?n([e.min,e.min]):i[0]>e.max?n([e.max,e.max]):i[0]<e.min?n([e.min,i[1]]):i[1]>e.max?n([i[0],e.max]):(a.firstValue=i[0],a.secondValue=i[1],r()&&(null==(l=null==o?void 0:o.validate)||l.call(o,"change").catch((e=>re())),a.oldValue=i.slice())):e.range||"number"!=typeof i||Number.isNaN(i)||(i<e.min?n(e.min):i>e.max?n(e.max):(a.firstValue=i,r()&&(null==(t=null==o?void 0:o.validate)||t.call(o,"change").catch((e=>re())),a.oldValue=i)))};s(),V((()=>a.dragging),(e=>{e||s()})),V((()=>e.modelValue),((e,l)=>{a.dragging||Array.isArray(e)&&Array.isArray(l)&&e.every(((e,a)=>e===l[a]))&&a.firstValue===e[0]&&a.secondValue===e[1]||s()}),{deep:!0}),V((()=>[e.min,e.max]),(()=>{s()}))})(t,n,C,P,l,d);const fe=g((()=>{const e=[t.min,t.max,t.step].map((e=>{const a=`${e}`.split(".")[1];return a?a.length:0}));return Math.max.apply(null,e)})),{sliderWrapper:ge}=((e,a,l)=>{const t=v();return p((async()=>{e.range?(Array.isArray(e.modelValue)?(a.firstValue=Math.max(e.min,e.modelValue[0]),a.secondValue=Math.min(e.max,e.modelValue[1])):(a.firstValue=e.min,a.secondValue=e.max),a.oldValue=[a.firstValue,a.secondValue]):("number"!=typeof e.modelValue||Number.isNaN(e.modelValue)?a.firstValue=e.min:a.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),a.oldValue=a.firstValue),c(window,"resize",l),await f(),l()})),{sliderWrapper:t}})(t,n,Y),{firstValue:be,secondValue:ye,sliderSize:Ve}=x(n);return I(se,s(r({},x(t)),{sliderSize:Ve,disabled:h,precision:fe,emitChange:O,resetSize:Y,updateDragging:e=>{n.dragging=e}})),a({onSliderClick:A}),(e,a)=>{var l,t;return S(),k("div",{id:e.range?E(G):void 0,ref_key:"sliderWrapper",ref:ge,class:z(E(pe)),role:e.range?"group":void 0,"aria-label":e.range&&!E(J)?E(te):void 0,"aria-labelledby":e.range&&E(J)?null==(l=E(d))?void 0:l.labelId:void 0,onTouchstart:a[2]||(a[2]=(...e)=>E(_)&&E(_)(...e)),onTouchmove:a[3]||(a[3]=(...e)=>E(_)&&E(_)(...e))},[j("div",{ref_key:"slider",ref:m,class:z([E(i).e("runway"),{"show-input":e.showInput&&!e.range},E(i).is("disabled",E(h))]),style:L(E(D)),onMousedown:a[0]||(a[0]=(...e)=>E(U)&&E(U)(...e)),onTouchstart:a[1]||(a[1]=(...e)=>E(U)&&E(U)(...e))},[j("div",{class:z(E(i).e("bar")),style:L(E(T))},null,6),B(ke,{id:e.range?void 0:E(G),ref_key:"firstButton",ref:b,"model-value":E(be),vertical:e.vertical,"tooltip-class":e.tooltipClass,role:"slider","aria-label":e.range||!E(J)?E(ie):void 0,"aria-labelledby":!e.range&&E(J)?null==(t=E(d))?void 0:t.labelId:void 0,"aria-valuemin":e.min,"aria-valuemax":e.range?E(ye):e.max,"aria-valuenow":E(be),"aria-valuetext":E(ue),"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":E(h),"onUpdate:modelValue":E(W)},null,8,["id","model-value","vertical","tooltip-class","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),e.range?(S(),M(ke,{key:0,ref_key:"secondButton",ref:y,"model-value":E(ye),vertical:e.vertical,"tooltip-class":e.tooltipClass,role:"slider","aria-label":E(de),"aria-valuemin":E(be),"aria-valuemax":e.max,"aria-valuenow":E(ye),"aria-valuetext":E(me),"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":E(h),"onUpdate:modelValue":E(R)},null,8,["model-value","vertical","tooltip-class","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):N("v-if",!0),e.showStops?(S(),k("div",je,[(S(!0),k(F,null,X(E($),((e,a)=>(S(),k("div",{key:a,class:z(E(i).e("stop")),style:L(E(q)(e))},null,6)))),128))])):N("v-if",!0),E(ce).length>0?(S(),k(F,{key:2},[j("div",null,[(S(!0),k(F,null,X(E(ce),((e,a)=>(S(),k("div",{key:a,style:L(E(q)(e.position)),class:z([E(i).e("stop"),E(i).e("marks-stop")])},null,6)))),128))]),j("div",{class:z(E(i).e("marks"))},[(S(!0),k(F,null,X(E(ce),((e,a)=>(S(),M(E(Be),{key:a,mark:e.mark,style:L(E(q)(e.position))},null,8,["mark","style"])))),128))],2)],64)):N("v-if",!0)],38),e.showInput&&!e.range?(S(),M(E(u),{key:0,ref:"input","model-value":E(be),class:z(E(i).e("input")),step:e.step,disabled:E(h),controls:e.showInputControls,min:e.min,max:e.max,debounce:e.debounce,size:E(le),"onUpdate:modelValue":E(W),onChange:E(O)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):N("v-if",!0)],42,Ce)}}})),[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]));const Ee=v(null),ze={name:"dSlider",components:{ElSlider:Pe},props:{modelValue:{required:!0},title:String,unit:{default:"px"},async:{type:Boolean,default:!1},value:[String,Number]},setup:(e,a)=>({handleInput:l=>{a.emit("update:modelValue",l),e.async&&d("baseConfig")},sliderRef:Ee})},De={class:"d-flex-between d-slider setting-li"},Le={key:0,class:"d-slider-title"},Te={class:"d-slider-value"};var Ie=Y(ze,[["render",function(e,a,l,t,i,o){const n=O("el-slider");return S(),k("div",De,[l.title?(S(),k("span",Le,P(l.title),1)):N("",!0),B(n,_({"show-tooltip":!1,class:"d-cell",ref:"sliderRef"},e.$attrs,{size:"small","data-content":"12","model-value":l.modelValue,"onUpdate:modelValue":t.handleInput}),null,16,["model-value","onUpdate:modelValue"]),j("span",Te,P(~~l.value||l.modelValue)+P(l.unit),1)])}]]);export{Ie as D};
